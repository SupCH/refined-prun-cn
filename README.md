# Refined PrUn 中文汉化版

**Refined PrUn** 是一款专为科幻经济模拟游戏 **Prosperous Universe (PrUn)** 设计的浏览器增强插件。本版本为**完全汉化版**，实现了 100% 的功能描述及界面汉化。

> **原项目地址**：[refined-prun/refined-prun](https://github.com/refined-prun/refined-prun)  
> 本项目为中文汉化版，在原版基础上进行了完整的中文翻译，并新增了实用功能。

## ✨ 汉化版特性
- **全量汉化**：地毯式翻译了 80+ 个微功能开关及 26 个 XIT 自定义命令。
- **深度适配**：针对财务报表（资产负债表、损益表）、物资监控（BURN）、自动化脚本（ACT）等核心模块进行了语义化翻译。
- **一键部署**：默认开启中文语言，安装即用。

## 🆕 新增功能（v1.1.0）

### 快速购买增强 (Quick Purchase)
- **价格显示**：直接在列表中显示单价和预估总价。
- **价格补全**：新增"生成价格加载指令"功能，可通过 `CXPO` 指令批量获取缺失的价格数据。
- **指令精准**：采用 `CXPO <物品>.<交易所>` 格式，精准打开对应交易所订单。
- **体验优化**：本地仓库优先展示，按钮样式统一。

### ACT 全自动执行
- **一键自动执行**：新增"全自动执行"按钮，自动完成所有动作步骤
- **智能控制**：保留手动"执行下一步"按钮，随时切换手动/自动模式
- **停止自动**：执行中可随时点击"停止自动"切换回手动控制
- **安全机制**："取消"按钮始终可用，随时终止执行

### BURN 快速购买基础
- **站点选择**：可选择特定基地生成购买计划（仅采购该基地需要的材料）
- **天数自定义**：可自定义补给天数（默认 14 天）
- **材料分类**：自动区分消耗品和原材料，清晰展示

### ACT 完整汉化
- **界面全中文**：动作包列表、编辑器、执行器全部汉化
- **表单汉化**：添加/编辑动作表单（Type, Name, Material Group 等）已翻译
- **执行状态汉化**：所有按钮、状态消息、提示文本均已中文化

### Bug 修复
- **空值防护**：修复 CX Buy 动作在缺少交易所仓库数据时的崩溃问题
- **材料组验证**：添加防御性检查，避免未定义材料组导致的错误


## 🚀 核心功能
- **XIT BURN**：实时监控所有基地的物资消耗，显示剩余天数。
- **XIT FIN/FINBS**：自动生成公司资产负债表，追踪现金流与资产价值。
- **XIT ACT**：创建并执行自动化动作包（转账、购买、加油等）。
- **UI 优化**：包括图标美化、合同进度直观显示、搜索增强等 100 余项改进。

## 📦 安装教程

### 1. Chrome / Edge / 浏览器 (推荐)
1. 下载本仓库 [Releases](https://github.com/SupCH/refined-prun-cn/releases) 中的 `Refined-PrUn-中文汉化版.zip`。
2. 解压压缩包到本地文件夹。
3. 打开浏览器扩展页面 (`chrome://extensions/`)。
4. 开启右上角的 **“开发者模式”**。
5. 点击 **“加载解压的扩展程序”**，选择解压后的 `dist` 文件夹。

### 2. Firefox 浏览器
1. 在地址栏输入 `about:debugging#/runtime/this-firefox`。
2. 点击右上角的 **“临时载入附加组件...”**。
3. 选择解压文件夹中的 `manifest.json` 文件。
   *(注意：临时载入在浏览器重启后会失效)*

## 🛠️ 开发与构建
如果你想自行修改或编译：
1. 克隆代码：`git clone https://github.com/SupCH/refined-prun-cn.git`
2. 安装依赖：`pnpm install`
3. 执行构建：`pnpm build`
4. 翻译文件位于：`src/infrastructure/i18n/zh.ts`

## ⚖️ 许可
本项目基于原作者 [Razenpok](https://github.com/refined-prun/refined-prun) 的开源项目二次开发，遵循 MIT 开源协议。