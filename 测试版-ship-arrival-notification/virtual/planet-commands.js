import { planetsStore } from './planets.js';
import { stationsStore } from './stations.js';
import { convertToPlanetNaturalId } from './planet-natural-id.js';
const correctableCommands = /* @__PURE__ */ new Set([
  'ADM',
  'BBC',
  'BRA',
  'BS',
  'BSC',
  'COGC',
  'COGCPEX',
  'COGCU',
  'FLTP',
  'GOV',
  'INV',
  'LM',
  'LMP',
  'LR',
  'PLI',
  'POPI',
  'POPR',
  'PPS',
  'SHY',
  'WAR',
]);
const stationCommands = /* @__PURE__ */ new Set(['INV', 'LM', 'LMP', 'WAR']);
function correctPlanetCommand(parts) {
  const command = parts[0].toUpperCase();
  if (!correctableCommands.has(command)) {
    return;
  }
  const args = parts.slice(1);
  if (args.length === 1) {
    if (planetsStore.getByNaturalId(args[0])) {
      return;
    }
    if (stationCommands.has(command) && stationsStore.getByNaturalId(args[0])) {
      return;
    }
  }
  const joinedArgs = args.join(' ');
  const naturalId = convertToPlanetNaturalId(joinedArgs, args);
  if (naturalId && joinedArgs !== naturalId) {
    parts.splice(1);
    parts.push(naturalId);
  }
}
export { correctPlanetCommand };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhbmV0LWNvbW1hbmRzLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZmVhdHVyZXMvYmFzaWMvY29ycmVjdC1jb21tYW5kcy9wbGFuZXQtY29tbWFuZHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGxhbmV0c1N0b3JlIH0gZnJvbSAnQHNyYy9pbmZyYXN0cnVjdHVyZS9wcnVuLWFwaS9kYXRhL3BsYW5ldHMnO1xuaW1wb3J0IHsgc3RhdGlvbnNTdG9yZSB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS9zdGF0aW9ucyc7XG5pbXBvcnQgeyBjb252ZXJ0VG9QbGFuZXROYXR1cmFsSWQgfSBmcm9tICdAc3JjL2NvcmUvcGxhbmV0LW5hdHVyYWwtaWQnO1xuXG5jb25zdCBjb3JyZWN0YWJsZUNvbW1hbmRzID0gbmV3IFNldChbXG4gICdBRE0nLFxuICAnQkJDJyxcbiAgJ0JSQScsXG4gICdCUycsXG4gICdCU0MnLFxuICAnQ09HQycsXG4gICdDT0dDUEVYJyxcbiAgJ0NPR0NVJyxcbiAgJ0ZMVFAnLFxuICAnR09WJyxcbiAgJ0lOVicsXG4gICdMTScsXG4gICdMTVAnLFxuICAnTFInLFxuICAnUExJJyxcbiAgJ1BPUEknLFxuICAnUE9QUicsXG4gICdQUFMnLFxuICAnU0hZJyxcbiAgJ1dBUicsXG5dKTtcblxuY29uc3Qgc3RhdGlvbkNvbW1hbmRzID0gbmV3IFNldChbJ0lOVicsICdMTScsICdMTVAnLCAnV0FSJ10pO1xuXG5leHBvcnQgZnVuY3Rpb24gY29ycmVjdFBsYW5ldENvbW1hbmQocGFydHM6IHN0cmluZ1tdKSB7XG4gIGNvbnN0IGNvbW1hbmQgPSBwYXJ0c1swXS50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWNvcnJlY3RhYmxlQ29tbWFuZHMuaGFzKGNvbW1hbmQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYXJncyA9IHBhcnRzLnNsaWNlKDEpO1xuICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBGb3IgZXhhbXBsZSwgYExNIFZILTMzMWFgXG4gICAgaWYgKHBsYW5ldHNTdG9yZS5nZXRCeU5hdHVyYWxJZChhcmdzWzBdKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBGb3IgZXhhbXBsZSwgYExNIEhSVGBcbiAgICBpZiAoc3RhdGlvbkNvbW1hbmRzLmhhcyhjb21tYW5kKSAmJiBzdGF0aW9uc1N0b3JlLmdldEJ5TmF0dXJhbElkKGFyZ3NbMF0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgam9pbmVkQXJncyA9IGFyZ3Muam9pbignICcpO1xuICBjb25zdCBuYXR1cmFsSWQgPSBjb252ZXJ0VG9QbGFuZXROYXR1cmFsSWQoam9pbmVkQXJncywgYXJncyk7XG4gIGlmIChuYXR1cmFsSWQgJiYgam9pbmVkQXJncyAhPT0gbmF0dXJhbElkKSB7XG4gICAgcGFydHMuc3BsaWNlKDEpO1xuICAgIHBhcnRzLnB1c2gobmF0dXJhbElkKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUlBLE1BQU0sMENBQTBCLElBQUk7QUFBQSxFQUNsQztBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDRixDQUFDO0FBRUQsTUFBTSxzQ0FBc0IsSUFBSSxDQUFDLE9BQU8sTUFBTSxPQUFPLEtBQUssQ0FBQztBQUVwRCxTQUFTLHFCQUFxQixPQUFpQjtBQUNwRCxRQUFNLFVBQVUsTUFBTSxDQUFDLEVBQUUsWUFBQTtBQUN6QixNQUFJLENBQUMsb0JBQW9CLElBQUksT0FBTyxHQUFHO0FBQ3JDO0FBQUEsRUFDRjtBQUVBLFFBQU0sT0FBTyxNQUFNLE1BQU0sQ0FBQztBQUMxQixNQUFJLEtBQUssV0FBVyxHQUFHO0FBRXJCLFFBQUksYUFBYSxlQUFlLEtBQUssQ0FBQyxDQUFDLEdBQUc7QUFDeEM7QUFBQSxJQUNGO0FBRUEsUUFBSSxnQkFBZ0IsSUFBSSxPQUFPLEtBQUssY0FBYyxlQUFlLEtBQUssQ0FBQyxDQUFDLEdBQUc7QUFDekU7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUVBLFFBQU0sYUFBYSxLQUFLLEtBQUssR0FBRztBQUNoQyxRQUFNLFlBQVkseUJBQXlCLFlBQVksSUFBSTtBQUMzRCxNQUFJLGFBQWEsZUFBZSxXQUFXO0FBQ3pDLFVBQU0sT0FBTyxDQUFDO0FBQ2QsVUFBTSxLQUFLLFNBQVM7QUFBQSxFQUN0QjtBQUNGOyJ9
