import { createEntityStore } from './create-entity-store.js';
import { onApiMessage } from './api-messages.js';
import { request } from './request-hooks2.js';
import { computed } from './runtime-core.esm-bundler.js';
const store = createEntityStore();
const state = store.state;
onApiMessage({
  FOREX_TRADER_ORDERS(data) {
    store.setAll(data.orders);
    store.setFetched();
  },
  FOREX_TRADER_ORDER_ADDED(data) {
    store.addOne(data);
  },
  FOREX_TRADER_ORDER_UPDATED(data) {
    store.updateOne(data);
  },
  FOREX_TRADER_ORDER_REMOVED(data) {
    store.removeOne(data.orderId);
  },
});
const all = (() => {
  const all2 = state.all;
  return computed(() => {
    if (!state.fetched.value) {
      request.fxos();
    }
    return all2.value;
  });
})();
const active = computed(() => all.value?.filter(x => x.status !== 'FILLED'));
const fxosStore = {
  ...state,
  all,
  active,
};
export { fxosStore };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnhvcy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2luZnJhc3RydWN0dXJlL3BydW4tYXBpL2RhdGEvZnhvcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFbnRpdHlTdG9yZSB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS9jcmVhdGUtZW50aXR5LXN0b3JlJztcbmltcG9ydCB7IG9uQXBpTWVzc2FnZSB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS9hcGktbWVzc2FnZXMnO1xuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS9yZXF1ZXN0LWhvb2tzJztcblxuY29uc3Qgc3RvcmUgPSBjcmVhdGVFbnRpdHlTdG9yZTxQcnVuQXBpLkZYT3JkZXI+KCk7XG5jb25zdCBzdGF0ZSA9IHN0b3JlLnN0YXRlO1xuXG5vbkFwaU1lc3NhZ2Uoe1xuICBGT1JFWF9UUkFERVJfT1JERVJTKGRhdGE6IHsgb3JkZXJzOiBQcnVuQXBpLkZYT3JkZXJbXSB9KSB7XG4gICAgc3RvcmUuc2V0QWxsKGRhdGEub3JkZXJzKTtcbiAgICBzdG9yZS5zZXRGZXRjaGVkKCk7XG4gIH0sXG4gIEZPUkVYX1RSQURFUl9PUkRFUl9BRERFRChkYXRhOiBQcnVuQXBpLkZYT3JkZXIpIHtcbiAgICBzdG9yZS5hZGRPbmUoZGF0YSk7XG4gIH0sXG4gIEZPUkVYX1RSQURFUl9PUkRFUl9VUERBVEVEKGRhdGE6IFBydW5BcGkuRlhPcmRlcikge1xuICAgIHN0b3JlLnVwZGF0ZU9uZShkYXRhKTtcbiAgfSxcbiAgRk9SRVhfVFJBREVSX09SREVSX1JFTU9WRUQoZGF0YTogeyBvcmRlcklkOiBzdHJpbmcgfSkge1xuICAgIHN0b3JlLnJlbW92ZU9uZShkYXRhLm9yZGVySWQpO1xuICB9LFxufSk7XG5cbmNvbnN0IGFsbCA9ICgoKSA9PiB7XG4gIGNvbnN0IGFsbCA9IHN0YXRlLmFsbDtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoIXN0YXRlLmZldGNoZWQudmFsdWUpIHtcbiAgICAgIHJlcXVlc3QuZnhvcygpO1xuICAgIH1cblxuICAgIHJldHVybiBhbGwudmFsdWU7XG4gIH0pO1xufSkoKTtcblxuY29uc3QgYWN0aXZlID0gY29tcHV0ZWQoKCkgPT4gYWxsLnZhbHVlPy5maWx0ZXIoeCA9PiB4LnN0YXR1cyAhPT0gJ0ZJTExFRCcpKTtcblxuZXhwb3J0IGNvbnN0IGZ4b3NTdG9yZSA9IHtcbiAgLi4uc3RhdGUsXG4gIGFsbCxcbiAgYWN0aXZlLFxufTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBSUEsTUFBQSxRQUFBLGtCQUFBO0FBQ0EsTUFBQSxRQUFBLE1BQUE7QUFFQSxhQUFBO0FBQUEsRUFBYSxvQkFBQSxNQUFBO0FBRVQsVUFBQSxPQUFBLEtBQUEsTUFBQTtBQUNBLFVBQUEsV0FBQTtBQUFBLEVBQWlCO0FBQUEsRUFDbkIseUJBQUEsTUFBQTtBQUVFLFVBQUEsT0FBQSxJQUFBO0FBQUEsRUFBaUI7QUFBQSxFQUNuQiwyQkFBQSxNQUFBO0FBRUUsVUFBQSxVQUFBLElBQUE7QUFBQSxFQUFvQjtBQUFBLEVBQ3RCLDJCQUFBLE1BQUE7QUFFRSxVQUFBLFVBQUEsS0FBQSxPQUFBO0FBQUEsRUFBNEI7QUFFaEMsQ0FBQTtBQUVBLE1BQUEsT0FBQSxNQUFBO0FBQ0UsUUFBQSxPQUFBLE1BQUE7QUFDQSxTQUFBLFNBQUEsTUFBQTtBQUNFLFFBQUEsQ0FBQSxNQUFBLFFBQUEsT0FBQTtBQUNFLGNBQUEsS0FBQTtBQUFBLElBQWE7QUFHZixXQUFBLEtBQUE7QUFBQSxFQUFXLENBQUE7QUFFZixHQUFBO0FBRUEsTUFBQSxTQUFBLFNBQUEsTUFBQSxJQUFBLE9BQUEsT0FBQSxDQUFBLE1BQUEsRUFBQSxXQUFBLFFBQUEsQ0FBQTtBQUVPLE1BQUEsWUFBQTtBQUFBLEVBQWtCLEdBQUE7QUFBQSxFQUNwQjtBQUFBLEVBQ0g7QUFFRjsifQ==
