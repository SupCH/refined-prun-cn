import { userData } from './user-data.js';
import { watch } from './runtime-core.esm-bundler.js';
let matchers = null;
watch(userData, () => (matchers = null), { immediate: true, deep: true });
const defaultSize = [450, 300];
function matchBufferSize(command) {
  if (!matchers) {
    matchers = userData.settings.buffers
      .filter(x => !!x[0] && typeof x[1] === 'number' && typeof x[2] === 'number')
      .map(x => {
        const rule = x[0] === '*' ? '.*' : x[0];
        return [new RegExp(rule.toUpperCase()), x[1], x[2]];
      });
  }
  const commandUpper = command.toUpperCase().trim();
  for (const matcher of matchers) {
    const match = commandUpper.match(matcher[0]);
    if (match) {
      return [matcher[1], matcher[2]];
    }
  }
  if (commandUpper === 'PLI' || commandUpper === 'SYSI') {
    return defaultSize.slice();
  }
  const commandParts = commandUpper.split(' ');
  let keyword = commandParts[0];
  if (keyword === 'XIT' && commandParts.length > 1) {
    keyword = commandParts[1].split('_')[0];
    return defaultXitBufferSizes[keyword];
  }
  return defaultBufferSizes[keyword];
}
function increaseDefaultBufferSize(keyword, delta) {
  let size = defaultBufferSizes[keyword];
  if (size === void 0) {
    size = defaultSize.slice();
    defaultBufferSizes[keyword] = size;
  }
  size[0] += delta.width ?? 0;
  size[1] += delta.height ?? 0;
}
const defaultBufferSizes = {
  ADM: [380, 550],
  BBC: [500, 450],
  BLU: [550, 600],
  BS: [610, 300],
  BSC: [550, 620],
  BTF: [570, 700],
  BUI: [500, 400],
  COGC: [500, 580],
  CONT: [600, 400],
  CONTD: [450, 550],
  CONTS: [550, 300],
  CORPARC: [350, 550],
  CORPNP: [450, 430],
  CORPP: [460, 640],
  CX: [550, 600],
  CXL: [600, 180],
  CXM: [625, 300],
  CXOS: [750, 300],
  CXPO: [450, 310],
  FLT: [650, 180],
  GOV: [470, 550],
  HQ: [450, 600],
  INV: [530, 250],
  LEAD: [700, 400],
  LM: [500, 580],
  LMA: [425, 370],
  LMOS: [700, 420],
  LMP: [450, 500],
  MAT: [500, 400],
  MOTS: [600, 450],
  MU: [512, 512],
  NOTS: [425, 625],
  PLI: [450, 600],
  POPI: [550, 300],
  POPID: [460, 500],
  POPR: [515, 400],
  PROD: [400, 500],
  PRODCO: [415, 600],
  PRODQ: [650, 300],
  SHP: [450, 450],
  SHY: [450, 450],
  STEAM: [300, 450],
  STNS: [400, 280],
  SYSI: [600, 600],
  WAR: [400, 580],
  WF: [710, 300],
};
const defaultXitBufferSizes = {
  CALC: [275, 326],
  YAPT: [1100, 700],
  PRUNSTAT: [830, 680],
  PRUNSTATS: [830, 680],
};
export { increaseDefaultBufferSize, matchBufferSize };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVmZmVyLXNpemVzLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi11aS9idWZmZXItc2l6ZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlckRhdGEgfSBmcm9tICdAc3JjL3N0b3JlL3VzZXItZGF0YSc7XG5cbmxldCBtYXRjaGVyczogW1JlZ0V4cCwgbnVtYmVyLCBudW1iZXJdW10gfCBudWxsID0gbnVsbDtcblxud2F0Y2godXNlckRhdGEsICgpID0+IChtYXRjaGVycyA9IG51bGwpLCB7IGltbWVkaWF0ZTogdHJ1ZSwgZGVlcDogdHJ1ZSB9KTtcblxuY29uc3QgZGVmYXVsdFNpemUgPSBbNDUwLCAzMDBdO1xuXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hCdWZmZXJTaXplKGNvbW1hbmQ6IHN0cmluZyk6IFtudW1iZXIsIG51bWJlcl0gfCB1bmRlZmluZWQge1xuICBpZiAoIW1hdGNoZXJzKSB7XG4gICAgbWF0Y2hlcnMgPSB1c2VyRGF0YS5zZXR0aW5ncy5idWZmZXJzXG4gICAgICAuZmlsdGVyKHggPT4gISF4WzBdICYmIHR5cGVvZiB4WzFdID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeFsyXSA9PT0gJ251bWJlcicpXG4gICAgICAubWFwKHggPT4ge1xuICAgICAgICAvLyAnKicgaXMgbm90IGEgdmFsaWQgcmVnZXguXG4gICAgICAgIGNvbnN0IHJ1bGUgPSB4WzBdID09PSAnKicgPyAnLionIDogeFswXTtcbiAgICAgICAgcmV0dXJuIFtuZXcgUmVnRXhwKHJ1bGUudG9VcHBlckNhc2UoKSksIHhbMV0sIHhbMl1dO1xuICAgICAgfSk7XG4gIH1cbiAgY29uc3QgY29tbWFuZFVwcGVyID0gY29tbWFuZC50b1VwcGVyQ2FzZSgpLnRyaW0oKTtcbiAgZm9yIChjb25zdCBtYXRjaGVyIG9mIG1hdGNoZXJzKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBjb21tYW5kVXBwZXIubWF0Y2gobWF0Y2hlclswXSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICByZXR1cm4gW21hdGNoZXJbMV0sIG1hdGNoZXJbMl1dO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjb21tYW5kVXBwZXIgPT09ICdQTEknIHx8IGNvbW1hbmRVcHBlciA9PT0gJ1NZU0knKSB7XG4gICAgLy8gUExJIGFuZCBTWVNJIHdpdGhvdXQgcGFyYW1ldGVycyBoYXZlIHRoZSBkZWZhdWx0IGJ1ZmZlciBzaXplLlxuICAgIHJldHVybiBkZWZhdWx0U2l6ZS5zbGljZSgpIGFzIFtudW1iZXIsIG51bWJlcl07XG4gIH1cbiAgY29uc3QgY29tbWFuZFBhcnRzID0gY29tbWFuZFVwcGVyLnNwbGl0KCcgJyk7XG4gIGxldCBrZXl3b3JkID0gY29tbWFuZFBhcnRzWzBdO1xuICBpZiAoa2V5d29yZCA9PT0gJ1hJVCcgJiYgY29tbWFuZFBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICBrZXl3b3JkID0gY29tbWFuZFBhcnRzWzFdLnNwbGl0KCdfJylbMF07XG4gICAgcmV0dXJuIGRlZmF1bHRYaXRCdWZmZXJTaXplc1trZXl3b3JkXTtcbiAgfVxuICByZXR1cm4gZGVmYXVsdEJ1ZmZlclNpemVzW2tleXdvcmRdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5jcmVhc2VEZWZhdWx0QnVmZmVyU2l6ZShcbiAga2V5d29yZDogc3RyaW5nLFxuICBkZWx0YTogeyB3aWR0aD86IG51bWJlcjsgaGVpZ2h0PzogbnVtYmVyIH0sXG4pIHtcbiAgbGV0IHNpemUgPSBkZWZhdWx0QnVmZmVyU2l6ZXNba2V5d29yZF07XG4gIGlmIChzaXplID09PSB1bmRlZmluZWQpIHtcbiAgICBzaXplID0gZGVmYXVsdFNpemUuc2xpY2UoKSBhcyBbbnVtYmVyLCBudW1iZXJdO1xuICAgIGRlZmF1bHRCdWZmZXJTaXplc1trZXl3b3JkXSA9IHNpemU7XG4gIH1cbiAgc2l6ZVswXSArPSBkZWx0YS53aWR0aCA/PyAwO1xuICBzaXplWzFdICs9IGRlbHRhLmhlaWdodCA/PyAwO1xufVxuXG5jb25zdCBkZWZhdWx0QnVmZmVyU2l6ZXM6IFJlY29yZDxzdHJpbmcsIFtudW1iZXIsIG51bWJlcl0+ID0ge1xuICBBRE06IFszODAsIDU1MF0sXG4gIEJCQzogWzUwMCwgNDUwXSxcbiAgQkxVOiBbNTUwLCA2MDBdLFxuICBCUzogWzYxMCwgMzAwXSxcbiAgQlNDOiBbNTUwLCA2MjBdLFxuICBCVEY6IFs1NzAsIDcwMF0sXG4gIEJVSTogWzUwMCwgNDAwXSxcbiAgQ09HQzogWzUwMCwgNTgwXSxcbiAgQ09OVDogWzYwMCwgNDAwXSxcbiAgQ09OVEQ6IFs0NTAsIDU1MF0sXG4gIENPTlRTOiBbNTUwLCAzMDBdLFxuICBDT1JQQVJDOiBbMzUwLCA1NTBdLFxuICBDT1JQTlA6IFs0NTAsIDQzMF0sXG4gIENPUlBQOiBbNDYwLCA2NDBdLFxuICBDWDogWzU1MCwgNjAwXSxcbiAgQ1hMOiBbNjAwLCAxODBdLFxuICBDWE06IFs2MjUsIDMwMF0sXG4gIENYT1M6IFs3NTAsIDMwMF0sXG4gIENYUE86IFs0NTAsIDMxMF0sXG4gIEZMVDogWzY1MCwgMTgwXSxcbiAgR09WOiBbNDcwLCA1NTBdLFxuICBIUTogWzQ1MCwgNjAwXSxcbiAgSU5WOiBbNTMwLCAyNTBdLFxuICBMRUFEOiBbNzAwLCA0MDBdLFxuICBMTTogWzUwMCwgNTgwXSxcbiAgTE1BOiBbNDI1LCAzNzBdLFxuICBMTU9TOiBbNzAwLCA0MjBdLFxuICBMTVA6IFs0NTAsIDUwMF0sXG4gIE1BVDogWzUwMCwgNDAwXSxcbiAgTU9UUzogWzYwMCwgNDUwXSxcbiAgTVU6IFs1MTIsIDUxMl0sXG4gIE5PVFM6IFs0MjUsIDYyNV0sXG4gIFBMSTogWzQ1MCwgNjAwXSxcbiAgUE9QSTogWzU1MCwgMzAwXSxcbiAgUE9QSUQ6IFs0NjAsIDUwMF0sXG4gIFBPUFI6IFs1MTUsIDQwMF0sXG4gIFBST0Q6IFs0MDAsIDUwMF0sXG4gIFBST0RDTzogWzQxNSwgNjAwXSxcbiAgUFJPRFE6IFs2NTAsIDMwMF0sXG4gIFNIUDogWzQ1MCwgNDUwXSxcbiAgU0hZOiBbNDUwLCA0NTBdLFxuICBTVEVBTTogWzMwMCwgNDUwXSxcbiAgU1ROUzogWzQwMCwgMjgwXSxcbiAgU1lTSTogWzYwMCwgNjAwXSxcbiAgV0FSOiBbNDAwLCA1ODBdLFxuICBXRjogWzcxMCwgMzAwXSxcbn07XG5cbmNvbnN0IGRlZmF1bHRYaXRCdWZmZXJTaXplcyA9IHtcbiAgQ0FMQzogWzI3NSwgMzI2XSxcbiAgWUFQVDogWzExMDAsIDcwMF0sXG4gIFBSVU5TVEFUOiBbODMwLCA2ODBdLFxuICBQUlVOU1RBVFM6IFs4MzAsIDY4MF0sXG59O1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsSUFBQSxXQUFBO0FBRUEsTUFBQSxVQUFBLE1BQUEsV0FBQSxNQUFBLEVBQUEsV0FBQSxNQUFBLE1BQUEsTUFBQTtBQUVBLE1BQUEsY0FBQSxDQUFBLEtBQUEsR0FBQTtBQUVPLFNBQUEsZ0JBQUEsU0FBQTtBQUNMLE1BQUEsQ0FBQSxVQUFBO0FBQ0UsZUFBQSxTQUFBLFNBQUEsUUFBQSxPQUFBLENBQUEsTUFBQSxDQUFBLENBQUEsRUFBQSxDQUFBLEtBQUEsT0FBQSxFQUFBLENBQUEsTUFBQSxZQUFBLE9BQUEsRUFBQSxDQUFBLE1BQUEsUUFBQSxFQUFBLElBQUEsQ0FBQSxNQUFBO0FBSUksWUFBQSxPQUFBLEVBQUEsQ0FBQSxNQUFBLE1BQUEsT0FBQSxFQUFBLENBQUE7QUFDQSxhQUFBLENBQUEsSUFBQSxPQUFBLEtBQUEsWUFBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLENBQUE7QUFBQSxJQUFrRCxDQUFBO0FBQUEsRUFDbkQ7QUFFTCxRQUFBLGVBQUEsUUFBQSxZQUFBLEVBQUEsS0FBQTtBQUNBLGFBQUEsV0FBQSxVQUFBO0FBQ0UsVUFBQSxRQUFBLGFBQUEsTUFBQSxRQUFBLENBQUEsQ0FBQTtBQUNBLFFBQUEsT0FBQTtBQUNFLGFBQUEsQ0FBQSxRQUFBLENBQUEsR0FBQSxRQUFBLENBQUEsQ0FBQTtBQUFBLElBQThCO0FBQUEsRUFDaEM7QUFHRixNQUFBLGlCQUFBLFNBQUEsaUJBQUEsUUFBQTtBQUVFLFdBQUEsWUFBQSxNQUFBO0FBQUEsRUFBeUI7QUFFM0IsUUFBQSxlQUFBLGFBQUEsTUFBQSxHQUFBO0FBQ0EsTUFBQSxVQUFBLGFBQUEsQ0FBQTtBQUNBLE1BQUEsWUFBQSxTQUFBLGFBQUEsU0FBQSxHQUFBO0FBQ0UsY0FBQSxhQUFBLENBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxDQUFBO0FBQ0EsV0FBQSxzQkFBQSxPQUFBO0FBQUEsRUFBb0M7QUFFdEMsU0FBQSxtQkFBQSxPQUFBO0FBQ0Y7QUFFTyxTQUFBLDBCQUFBLFNBQUEsT0FBQTtBQUlMLE1BQUEsT0FBQSxtQkFBQSxPQUFBO0FBQ0EsTUFBQSxTQUFBLFFBQUE7QUFDRSxXQUFBLFlBQUEsTUFBQTtBQUNBLHVCQUFBLE9BQUEsSUFBQTtBQUFBLEVBQThCO0FBRWhDLE9BQUEsQ0FBQSxLQUFBLE1BQUEsU0FBQTtBQUNBLE9BQUEsQ0FBQSxLQUFBLE1BQUEsVUFBQTtBQUNGO0FBRUEsTUFBQSxxQkFBQTtBQUFBLEVBQTZELEtBQUEsQ0FBQSxLQUFBLEdBQUE7QUFBQSxFQUM3QyxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxJQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxPQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxPQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxTQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRSxRQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxPQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxJQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDSCxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxJQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxJQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRixLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxJQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRixNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRSxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxPQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQyxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxRQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRSxPQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRixLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxPQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRSxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxNQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDQSxLQUFBLENBQUEsS0FBQSxHQUFBO0FBQUEsRUFDRCxJQUFBLENBQUEsS0FBQSxHQUFBO0FBRWhCO0FBRUEsTUFBQSx3QkFBQTtBQUFBLEVBQThCLE1BQUEsQ0FBQSxLQUFBLEdBQUE7QUFBQSxFQUNiLE1BQUEsQ0FBQSxNQUFBLEdBQUE7QUFBQSxFQUNDLFVBQUEsQ0FBQSxLQUFBLEdBQUE7QUFBQSxFQUNHLFdBQUEsQ0FBQSxLQUFBLEdBQUE7QUFFckI7In0=
