import { C } from './prun-css.js';
import { _$ } from './select-dom.js';
import getMapArray from './get-map-array.js';
import { castArray } from './cast-array.js';
import onetime from './index7.js';
import { onNodeTreeMutation } from './on-node-tree-mutation.js';
import removeArrayElement from './remove-array-element.js';
import { getPrunId } from './attributes.js';
import onNodeDisconnected from './on-node-disconnected.js';
import { matchBufferSize } from './buffer-sizes.js';
import { setBufferSize } from './buffers.js';
const pastWindows = /* @__PURE__ */ new WeakSet();
const activeTiles = [];
const commandObservers = /* @__PURE__ */ new Map();
const anyCommandObservers = [];
const setupObserver = onetime(() => onNodeTreeMutation(document, reconciliate));
function reconciliate(mutations) {
  if (mutations.some(x => x.removedNodes.length > 0)) {
    for (const tile of activeTiles) {
      if (!tile.frame.isConnected) {
        deactivateTile(tile);
      }
    }
  }
  if (mutations.every(x => x.addedNodes.length === 0)) {
    return;
  }
  const frameElements = document.getElementsByClassName(C.TileFrame.frame);
  if (frameElements.length === activeTiles.length) {
    let sameTiles = true;
    for (let i = 0; i < frameElements.length; i++) {
      if (activeTiles[i].frame !== frameElements[i]) {
        sameTiles = false;
        break;
      }
    }
    if (sameTiles) {
      return;
    }
  }
  const newFrames = /* @__PURE__ */ new Set();
  for (let i = 0; i < frameElements.length; i++) {
    newFrames.add(frameElements[i]);
  }
  for (const tile of activeTiles) {
    newFrames.delete(tile.frame);
  }
  for (const frame of newFrames) {
    const anchor = _$(frame, C.TileFrame.anchor);
    if (!anchor) {
      continue;
    }
    activateFrame(frame, anchor);
  }
}
function activateFrame(frame, anchor) {
  const tileElement = frame.parentElement;
  const container = tileElement.parentElement;
  const docked = !container.classList.contains(C.Window.body);
  const id = getPrunId(tileElement);
  const commandElement = _$(frame, C.TileFrame.cmd);
  const fullCommand = commandElement.textContent.trim();
  const indexOfSpace = fullCommand.indexOf(' ');
  const tile = {
    id,
    container,
    frame,
    anchor,
    docked,
    fullCommand,
    command: (indexOfSpace > 0 ? fullCommand.slice(0, indexOfSpace) : fullCommand).toUpperCase(),
    parameter: indexOfSpace > 0 ? fullCommand.slice(indexOfSpace + 1) : void 0,
  };
  frame.classList.add(`rp-command-${tile.command}`);
  activateTile(tile);
  onNodeDisconnected(frame, () => deactivateTile(tile));
  if (!docked && !pastWindows.has(container)) {
    pastWindows.add(container);
    const size = matchBufferSize(fullCommand);
    if (size) {
      setBufferSize(id, size[0], size[1]);
    }
  }
}
function activateTile(tile) {
  if (activeTiles.includes(tile)) {
    return;
  }
  activeTiles.push(tile);
  for (const observer of getMapArray(commandObservers, tile.command)) {
    runObserver(observer, tile);
  }
  for (const observer of anyCommandObservers) {
    runObserver(observer, tile);
  }
}
function runObserver(observer, tile) {
  try {
    observer(tile);
  } catch (error) {
    console.error(error);
  }
}
function deactivateTile(tile) {
  if (!activeTiles.includes(tile)) {
    return;
  }
  removeArrayElement(activeTiles, tile);
}
function observeTiles(commands, observer) {
  setupObserver();
  for (let command of castArray(commands)) {
    command = command.toUpperCase();
    const observers = getMapArray(commandObservers, command);
    observers.push(observer);
    for (const tile of activeTiles) {
      if (tile.command === command) {
        runObserver(observer, tile);
      }
    }
  }
}
function observeAllTiles(observer) {
  setupObserver();
  anyCommandObservers.push(observer);
  for (const tile of activeTiles) {
    runObserver(observer, tile);
  }
}
function findTiles(command, ignoreCase = false) {
  return ignoreCase
    ? activeTiles.filter(tile => tile.fullCommand.toUpperCase() === command.toUpperCase())
    : activeTiles.filter(tile => tile.fullCommand === command);
}
function findByContainer(container) {
  return activeTiles.filter(tile => tile.container === container);
}
const tiles = {
  observe: observeTiles,
  observeAll: observeAllTiles,
  find: findTiles,
  findByContainer,
};
export { tiles as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGlsZXMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9pbmZyYXN0cnVjdHVyZS9wcnVuLXVpL3RpbGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRNYXBBcnJheSBmcm9tICdAc3JjL3V0aWxzL2dldC1tYXAtYXJyYXknO1xuaW1wb3J0IHsgY2FzdEFycmF5IH0gZnJvbSAnQHNyYy91dGlscy9jYXN0LWFycmF5JztcbmltcG9ydCBvbmV0aW1lIGZyb20gJ29uZXRpbWUnO1xuaW1wb3J0IHsgb25Ob2RlVHJlZU11dGF0aW9uIH0gZnJvbSAnQHNyYy91dGlscy9vbi1ub2RlLXRyZWUtbXV0YXRpb24nO1xuaW1wb3J0IHJlbW92ZUFycmF5RWxlbWVudCBmcm9tICdAc3JjL3V0aWxzL3JlbW92ZS1hcnJheS1lbGVtZW50JztcbmltcG9ydCB7IGdldFBydW5JZCB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi11aS9hdHRyaWJ1dGVzJztcbmltcG9ydCBvbk5vZGVEaXNjb25uZWN0ZWQgZnJvbSAnQHNyYy91dGlscy9vbi1ub2RlLWRpc2Nvbm5lY3RlZCc7XG5pbXBvcnQgeyBtYXRjaEJ1ZmZlclNpemUgfSBmcm9tICdAc3JjL2luZnJhc3RydWN0dXJlL3BydW4tdWkvYnVmZmVyLXNpemVzJztcbmltcG9ydCB7IHNldEJ1ZmZlclNpemUgfSBmcm9tICdAc3JjL2luZnJhc3RydWN0dXJlL3BydW4tdWkvYnVmZmVycyc7XG5cbmludGVyZmFjZSBQcnVuVGlsZU9ic2VydmVyIHtcbiAgKHRpbGU6IFBydW5UaWxlKTogdm9pZDtcbn1cblxuY29uc3QgcGFzdFdpbmRvd3M6IFdlYWtTZXQ8RWxlbWVudD4gPSBuZXcgV2Vha1NldCgpO1xuY29uc3QgYWN0aXZlVGlsZXM6IFBydW5UaWxlW10gPSBbXTtcbmNvbnN0IGNvbW1hbmRPYnNlcnZlcnM6IE1hcDxzdHJpbmcsIFBydW5UaWxlT2JzZXJ2ZXJbXT4gPSBuZXcgTWFwKCk7XG5jb25zdCBhbnlDb21tYW5kT2JzZXJ2ZXJzOiBQcnVuVGlsZU9ic2VydmVyW10gPSBbXTtcblxuY29uc3Qgc2V0dXBPYnNlcnZlciA9IG9uZXRpbWUoKCkgPT4gb25Ob2RlVHJlZU11dGF0aW9uKGRvY3VtZW50LCByZWNvbmNpbGlhdGUpKTtcblxuZnVuY3Rpb24gcmVjb25jaWxpYXRlKG11dGF0aW9uczogTXV0YXRpb25SZWNvcmRbXSkge1xuICBpZiAobXV0YXRpb25zLnNvbWUoeCA9PiB4LnJlbW92ZWROb2Rlcy5sZW5ndGggPiAwKSkge1xuICAgIGZvciAoY29uc3QgdGlsZSBvZiBhY3RpdmVUaWxlcykge1xuICAgICAgaWYgKCF0aWxlLmZyYW1lLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgIGRlYWN0aXZhdGVUaWxlKHRpbGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChtdXRhdGlvbnMuZXZlcnkoeCA9PiB4LmFkZGVkTm9kZXMubGVuZ3RoID09PSAwKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGZyYW1lRWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKEMuVGlsZUZyYW1lLmZyYW1lKTtcbiAgaWYgKGZyYW1lRWxlbWVudHMubGVuZ3RoID09PSBhY3RpdmVUaWxlcy5sZW5ndGgpIHtcbiAgICBsZXQgc2FtZVRpbGVzID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhY3RpdmVUaWxlc1tpXS5mcmFtZSAhPT0gZnJhbWVFbGVtZW50c1tpXSkge1xuICAgICAgICBzYW1lVGlsZXMgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzYW1lVGlsZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBuZXdGcmFtZXM6IFNldDxFbGVtZW50PiA9IG5ldyBTZXQoKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1lRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBuZXdGcmFtZXMuYWRkKGZyYW1lRWxlbWVudHNbaV0pO1xuICB9XG4gIGZvciAoY29uc3QgdGlsZSBvZiBhY3RpdmVUaWxlcykge1xuICAgIG5ld0ZyYW1lcy5kZWxldGUodGlsZS5mcmFtZSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IGZyYW1lIG9mIG5ld0ZyYW1lcykge1xuICAgIGNvbnN0IGFuY2hvciA9IF8kKGZyYW1lLCBDLlRpbGVGcmFtZS5hbmNob3IpO1xuICAgIGlmICghYW5jaG9yKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZUZyYW1lKGZyYW1lIGFzIEhUTUxEaXZFbGVtZW50LCBhbmNob3IgYXMgSFRNTERpdkVsZW1lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFjdGl2YXRlRnJhbWUoZnJhbWU6IEhUTUxEaXZFbGVtZW50LCBhbmNob3I6IEhUTUxEaXZFbGVtZW50KSB7XG4gIGNvbnN0IHRpbGVFbGVtZW50ID0gZnJhbWUucGFyZW50RWxlbWVudCE7XG4gIGNvbnN0IGNvbnRhaW5lciA9IHRpbGVFbGVtZW50LnBhcmVudEVsZW1lbnQhO1xuICBjb25zdCBkb2NrZWQgPSAhY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhDLldpbmRvdy5ib2R5KTtcbiAgY29uc3QgaWQgPSBnZXRQcnVuSWQodGlsZUVsZW1lbnQpITtcbiAgY29uc3QgY29tbWFuZEVsZW1lbnQgPSBfJChmcmFtZSwgQy5UaWxlRnJhbWUuY21kKTtcbiAgY29uc3QgZnVsbENvbW1hbmQgPSBjb21tYW5kRWxlbWVudCEudGV4dENvbnRlbnQhLnRyaW0oKTtcbiAgY29uc3QgaW5kZXhPZlNwYWNlID0gZnVsbENvbW1hbmQuaW5kZXhPZignICcpO1xuICBjb25zdCB0aWxlOiBQcnVuVGlsZSA9IHtcbiAgICBpZCxcbiAgICBjb250YWluZXIsXG4gICAgZnJhbWUsXG4gICAgYW5jaG9yLFxuICAgIGRvY2tlZCxcbiAgICBmdWxsQ29tbWFuZCxcbiAgICBjb21tYW5kOiAoaW5kZXhPZlNwYWNlID4gMCA/IGZ1bGxDb21tYW5kLnNsaWNlKDAsIGluZGV4T2ZTcGFjZSkgOiBmdWxsQ29tbWFuZCkudG9VcHBlckNhc2UoKSxcbiAgICBwYXJhbWV0ZXI6IGluZGV4T2ZTcGFjZSA+IDAgPyBmdWxsQ29tbWFuZC5zbGljZShpbmRleE9mU3BhY2UgKyAxKSA6IHVuZGVmaW5lZCxcbiAgfTtcbiAgZnJhbWUuY2xhc3NMaXN0LmFkZChgcnAtY29tbWFuZC0ke3RpbGUuY29tbWFuZH1gKTtcbiAgYWN0aXZhdGVUaWxlKHRpbGUpO1xuICBvbk5vZGVEaXNjb25uZWN0ZWQoZnJhbWUsICgpID0+IGRlYWN0aXZhdGVUaWxlKHRpbGUpKTtcbiAgaWYgKCFkb2NrZWQgJiYgIXBhc3RXaW5kb3dzLmhhcyhjb250YWluZXIpKSB7XG4gICAgcGFzdFdpbmRvd3MuYWRkKGNvbnRhaW5lcik7XG4gICAgY29uc3Qgc2l6ZSA9IG1hdGNoQnVmZmVyU2l6ZShmdWxsQ29tbWFuZCk7XG4gICAgaWYgKHNpemUpIHtcbiAgICAgIHNldEJ1ZmZlclNpemUoaWQsIHNpemVbMF0sIHNpemVbMV0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhY3RpdmF0ZVRpbGUodGlsZTogUHJ1blRpbGUpIHtcbiAgaWYgKGFjdGl2ZVRpbGVzLmluY2x1ZGVzKHRpbGUpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYWN0aXZlVGlsZXMucHVzaCh0aWxlKTtcbiAgZm9yIChjb25zdCBvYnNlcnZlciBvZiBnZXRNYXBBcnJheShjb21tYW5kT2JzZXJ2ZXJzLCB0aWxlLmNvbW1hbmQpKSB7XG4gICAgcnVuT2JzZXJ2ZXIob2JzZXJ2ZXIsIHRpbGUpO1xuICB9XG4gIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgYW55Q29tbWFuZE9ic2VydmVycykge1xuICAgIHJ1bk9ic2VydmVyKG9ic2VydmVyLCB0aWxlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBydW5PYnNlcnZlcihvYnNlcnZlcjogUHJ1blRpbGVPYnNlcnZlciwgdGlsZTogUHJ1blRpbGUpIHtcbiAgdHJ5IHtcbiAgICBvYnNlcnZlcih0aWxlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWFjdGl2YXRlVGlsZSh0aWxlOiBQcnVuVGlsZSkge1xuICBpZiAoIWFjdGl2ZVRpbGVzLmluY2x1ZGVzKHRpbGUpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmVtb3ZlQXJyYXlFbGVtZW50KGFjdGl2ZVRpbGVzLCB0aWxlKTtcbn1cblxuZnVuY3Rpb24gb2JzZXJ2ZVRpbGVzKGNvbW1hbmRzOiBBcnJheWFibGU8c3RyaW5nPiwgb2JzZXJ2ZXI6IFBydW5UaWxlT2JzZXJ2ZXIpIHtcbiAgc2V0dXBPYnNlcnZlcigpO1xuICBmb3IgKGxldCBjb21tYW5kIG9mIGNhc3RBcnJheShjb21tYW5kcykpIHtcbiAgICBjb21tYW5kID0gY29tbWFuZC50b1VwcGVyQ2FzZSgpO1xuICAgIGNvbnN0IG9ic2VydmVycyA9IGdldE1hcEFycmF5KGNvbW1hbmRPYnNlcnZlcnMsIGNvbW1hbmQpO1xuICAgIG9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgICBmb3IgKGNvbnN0IHRpbGUgb2YgYWN0aXZlVGlsZXMpIHtcbiAgICAgIGlmICh0aWxlLmNvbW1hbmQgPT09IGNvbW1hbmQpIHtcbiAgICAgICAgcnVuT2JzZXJ2ZXIob2JzZXJ2ZXIsIHRpbGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvYnNlcnZlQWxsVGlsZXMob2JzZXJ2ZXI6IFBydW5UaWxlT2JzZXJ2ZXIpIHtcbiAgc2V0dXBPYnNlcnZlcigpO1xuICBhbnlDb21tYW5kT2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICBmb3IgKGNvbnN0IHRpbGUgb2YgYWN0aXZlVGlsZXMpIHtcbiAgICBydW5PYnNlcnZlcihvYnNlcnZlciwgdGlsZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZFRpbGVzKGNvbW1hbmQ6IHN0cmluZywgaWdub3JlQ2FzZSA9IGZhbHNlKSB7XG4gIHJldHVybiBpZ25vcmVDYXNlXG4gICAgPyBhY3RpdmVUaWxlcy5maWx0ZXIodGlsZSA9PiB0aWxlLmZ1bGxDb21tYW5kLnRvVXBwZXJDYXNlKCkgPT09IGNvbW1hbmQudG9VcHBlckNhc2UoKSlcbiAgICA6IGFjdGl2ZVRpbGVzLmZpbHRlcih0aWxlID0+IHRpbGUuZnVsbENvbW1hbmQgPT09IGNvbW1hbmQpO1xufVxuXG5mdW5jdGlvbiBmaW5kQnlDb250YWluZXIoY29udGFpbmVyPzogSFRNTEVsZW1lbnQgfCBudWxsKSB7XG4gIHJldHVybiBhY3RpdmVUaWxlcy5maWx0ZXIodGlsZSA9PiB0aWxlLmNvbnRhaW5lciA9PT0gY29udGFpbmVyKTtcbn1cblxuY29uc3QgdGlsZXMgPSB7XG4gIG9ic2VydmU6IG9ic2VydmVUaWxlcyxcbiAgb2JzZXJ2ZUFsbDogb2JzZXJ2ZUFsbFRpbGVzLFxuICBmaW5kOiBmaW5kVGlsZXMsXG4gIGZpbmRCeUNvbnRhaW5lcixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRpbGVzO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBY0EsTUFBQSxjQUFBLG9CQUFBLFFBQUE7QUFDQSxNQUFBLGNBQUEsQ0FBQTtBQUNBLE1BQUEsbUJBQUEsb0JBQUEsSUFBQTtBQUNBLE1BQUEsc0JBQUEsQ0FBQTtBQUVBLE1BQUEsZ0JBQUEsUUFBQSxNQUFBLG1CQUFBLFVBQUEsWUFBQSxDQUFBO0FBRUEsU0FBQSxhQUFBLFdBQUE7QUFDRSxNQUFBLFVBQUEsS0FBQSxDQUFBLE1BQUEsRUFBQSxhQUFBLFNBQUEsQ0FBQSxHQUFBO0FBQ0UsZUFBQSxRQUFBLGFBQUE7QUFDRSxVQUFBLENBQUEsS0FBQSxNQUFBLGFBQUE7QUFDRSx1QkFBQSxJQUFBO0FBQUEsTUFBbUI7QUFBQSxJQUNyQjtBQUFBLEVBQ0Y7QUFHRixNQUFBLFVBQUEsTUFBQSxDQUFBLE1BQUEsRUFBQSxX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QUNBLFVBQUEsWUFBQSxZQUFBLGtCQUFBLE9BQUE7QUFDQSxjQUFBLEtBQUEsUUFBQTtBQUNBLGVBQUEsUUFBQSxhQUFBO0FBQ0UsVUFBQSxLQUFBLFlBQUEsU0FBQTtBQUNFLG9CQUFBLFVBQUEsSUFBQTtBQUFBLE1BQTBCO0FBQUEsSUFDNUI7QUFBQSxFQUNGO0FBRUo7QUFFQSxTQUFBLGdCQUFBLFVBQUE7QUFDRSxnQkFBQTtBQUNBLHNCQUFBLEtBQUEsUUFBQTtBQUNBLGFBQUEsUUFBQSxhQUFBO0FBQ0UsZ0JBQUEsVUFBQSxJQUFBO0FBQUEsRUFBMEI7QUFFOUI7QUFFQSxTQUFBLFVBQUEsU0FBQSxhQUFBLE9BQUE7QUFDRSxTQUFBLGFBQUEsWUFBQSxPQUFBLENBQUEsU0FBQSxLQUFBLFlBQUEsWUFBQSxNQUFBLFFBQUEsWUFBQSxDQUFBLElBQUEsWUFBQSxPQUFBLENBQUEsU0FBQSxLQUFBLGdCQUFBLE9BQUE7QUFHRjtBQUVBLFNBQUEsZ0JBQUEsV0FBQTtBQUNFLFNBQUEsWUFBQSxPQUFBLENBQUEsU0FBQSxLQUFBLGNBQUEsU0FBQTtBQUNGO0FBRUEsTUFBQSxRQUFBO0FBQUEsRUFBYyxTQUFBO0FBQUEsRUFDSCxZQUFBO0FBQUEsRUFDRyxNQUFBO0FBQUEsRUFDTjtBQUVSOyJ9
