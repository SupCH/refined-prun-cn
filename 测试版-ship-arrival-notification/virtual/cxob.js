import { createEntityStore } from './create-entity-store.js';
import { onApiMessage } from './api-messages.js';
import { createMapGetter } from './create-map-getter.js';
const store = createEntityStore();
const state = store.state;
onApiMessage({
  COMEX_BROKER_DATA(data) {
    store.setOne(data);
    store.setFetched();
  },
});
const getByTicker = createMapGetter(state.all, x => x.ticker);
const cxobStore = {
  ...state,
  getByTicker,
};
export { cxobStore };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3hvYi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2luZnJhc3RydWN0dXJlL3BydW4tYXBpL2RhdGEvY3hvYi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFbnRpdHlTdG9yZSB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS9jcmVhdGUtZW50aXR5LXN0b3JlJztcbmltcG9ydCB7IG9uQXBpTWVzc2FnZSB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS9hcGktbWVzc2FnZXMnO1xuaW1wb3J0IHsgY3JlYXRlTWFwR2V0dGVyIH0gZnJvbSAnQHNyYy9pbmZyYXN0cnVjdHVyZS9wcnVuLWFwaS9kYXRhL2NyZWF0ZS1tYXAtZ2V0dGVyJztcblxuY29uc3Qgc3RvcmUgPSBjcmVhdGVFbnRpdHlTdG9yZTxQcnVuQXBpLkNYQnJva2VyPigpO1xuY29uc3Qgc3RhdGUgPSBzdG9yZS5zdGF0ZTtcblxub25BcGlNZXNzYWdlKHtcbiAgQ09NRVhfQlJPS0VSX0RBVEEoZGF0YTogUHJ1bkFwaS5DWEJyb2tlcikge1xuICAgIHN0b3JlLnNldE9uZShkYXRhKTtcbiAgICBzdG9yZS5zZXRGZXRjaGVkKCk7XG4gIH0sXG59KTtcblxuY29uc3QgZ2V0QnlUaWNrZXIgPSBjcmVhdGVNYXBHZXR0ZXIoc3RhdGUuYWxsLCB4ID0+IHgudGlja2VyKTtcblxuZXhwb3J0IGNvbnN0IGN4b2JTdG9yZSA9IHtcbiAgLi4uc3RhdGUsXG4gIGdldEJ5VGlja2VyLFxufTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFJQSxNQUFNLFFBQVEsa0JBQUE7QUFDZCxNQUFNLFFBQVEsTUFBTTtBQUVwQixhQUFhO0FBQUEsRUFDWCxrQkFBa0IsTUFBd0I7QUFDeEMsVUFBTSxPQUFPLElBQUk7QUFDakIsVUFBTSxXQUFBO0FBQUEsRUFDUjtBQUNGLENBQUM7QUFFRCxNQUFNLGNBQWMsZ0JBQWdCLE1BQU0sS0FBSyxDQUFBLE1BQUssRUFBRSxNQUFNO0FBRXJELE1BQU0sWUFBWTtBQUFBLEVBQ3ZCLEdBQUc7QUFBQSxFQUNIO0FBQ0Y7In0=
