import { castArray } from './cast-array.js';
import { initializeXitCommands } from './xit-commands.js';
const registry = [];
const lookup = /* @__PURE__ */ new Map();
function add(descriptor) {
  registry.push(descriptor);
  for (let command of castArray(descriptor.command)) {
    command = command.toUpperCase();
    lookup.set(command, descriptor);
  }
}
function get(command) {
  return lookup.get(command.toUpperCase());
}
const xit = {
  add,
  get,
  registry,
  init: initializeXitCommands,
};
export { xit as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieGl0LXJlZ2lzdHJ5LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZmVhdHVyZXMvWElUL3hpdC1yZWdpc3RyeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYXN0QXJyYXkgfSBmcm9tICdAc3JjL3V0aWxzL2Nhc3QtYXJyYXknO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZVhpdENvbW1hbmRzIH0gZnJvbSAnQHNyYy9mZWF0dXJlcy9YSVQveGl0LWNvbW1hbmRzJztcblxuaW50ZXJmYWNlIENvbnRleHRJdGVtIHtcbiAgY21kOiBzdHJpbmc7XG4gIGxhYmVsPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQ29tbWFuZERlc2NyaXB0b3Ige1xuICBjb21tYW5kOiBBcnJheWFibGU8c3RyaW5nPjtcbiAgbmFtZTogc3RyaW5nIHwgKChwYXJhbWV0ZXJzOiBzdHJpbmdbXSkgPT4gc3RyaW5nKTtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgbWFuZGF0b3J5UGFyYW1ldGVycz86IHN0cmluZztcbiAgb3B0aW9uYWxQYXJhbWV0ZXJzPzogc3RyaW5nO1xuICBjb21wb25lbnQ6IChwYXJhbWV0ZXJzOiBzdHJpbmdbXSkgPT4gQ29tcG9uZW50O1xuICBjb250ZXh0SXRlbXM/OiAocGFyYW1ldGVyczogc3RyaW5nW10pID0+IENvbnRleHRJdGVtW107XG59XG5cbmNvbnN0IHJlZ2lzdHJ5OiBDb21tYW5kRGVzY3JpcHRvcltdID0gW107XG5jb25zdCBsb29rdXA6IE1hcDxzdHJpbmcsIENvbW1hbmREZXNjcmlwdG9yPiA9IG5ldyBNYXAoKTtcblxuZnVuY3Rpb24gYWRkKGRlc2NyaXB0b3I6IENvbW1hbmREZXNjcmlwdG9yKSB7XG4gIHJlZ2lzdHJ5LnB1c2goZGVzY3JpcHRvcik7XG4gIGZvciAobGV0IGNvbW1hbmQgb2YgY2FzdEFycmF5KGRlc2NyaXB0b3IuY29tbWFuZCkpIHtcbiAgICBjb21tYW5kID0gY29tbWFuZC50b1VwcGVyQ2FzZSgpO1xuICAgIGlmIChpbXBvcnQubWV0YS5lbnYuREVWICYmIGxvb2t1cC5oYXMoY29tbWFuZCkpIHtcbiAgICAgIHRocm93IEVycm9yKGBEdXBsaWNhdGUgY29tbWFuZDogJHtjb21tYW5kfWApO1xuICAgIH1cbiAgICBsb29rdXAuc2V0KGNvbW1hbmQsIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldChjb21tYW5kOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGxvb2t1cC5nZXQoY29tbWFuZC50b1VwcGVyQ2FzZSgpKTtcbn1cblxuY29uc3QgeGl0ID0ge1xuICBhZGQsXG4gIGdldCxcbiAgcmVnaXN0cnksXG4gIGluaXQ6IGluaXRpYWxpemVYaXRDb21tYW5kcyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHhpdDtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQWtCQSxNQUFNLFdBQWdDLENBQUE7QUFDdEMsTUFBTSw2QkFBNkMsSUFBQTtBQUVuRCxTQUFTLElBQUksWUFBK0I7QUFDMUMsV0FBUyxLQUFLLFVBQVU7QUFDeEIsV0FBUyxXQUFXLFVBQVUsV0FBVyxPQUFPLEdBQUc7QUFDakQsY0FBVSxRQUFRLFlBQUE7QUFJbEIsV0FBTyxJQUFJLFNBQVMsVUFBVTtBQUFBLEVBQ2hDO0FBQ0Y7QUFFQSxTQUFTLElBQUksU0FBaUI7QUFDNUIsU0FBTyxPQUFPLElBQUksUUFBUSxZQUFBLENBQWE7QUFDekM7QUFFQSxNQUFNLE1BQU07QUFBQSxFQUNWO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBLE1BQU07QUFDUjsifQ==
