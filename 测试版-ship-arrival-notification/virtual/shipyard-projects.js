import { onApiMessage } from './api-messages.js';
import { createEntityStore } from './create-entity-store.js';
import { createRequestStore, request } from './request-hooks2.js';
import { createMapGetter } from './create-map-getter.js';
const store = createEntityStore();
const state = store.state;
onApiMessage({
  SHIPYARD_PROJECTS(data) {
    store.setAll(data.projects);
    store.setFetched();
  },
  SHIPYARD_PROJECT(data) {
    store.setOne(data);
  },
});
const getByShortId = createMapGetter(state.all, x => x.id.substring(0, 8));
const getById = value => state.getById(value) ?? getByShortId(value);
const shipyardProjectsStore = createRequestStore(request.shipyardProjects, {
  ...state,
  getById,
});
export { shipyardProjectsStore };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hpcHlhcmQtcHJvamVjdHMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9pbmZyYXN0cnVjdHVyZS9wcnVuLWFwaS9kYXRhL3NoaXB5YXJkLXByb2plY3RzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9uQXBpTWVzc2FnZSB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS9hcGktbWVzc2FnZXMnO1xuaW1wb3J0IHsgY3JlYXRlRW50aXR5U3RvcmUgfSBmcm9tICdAc3JjL2luZnJhc3RydWN0dXJlL3BydW4tYXBpL2RhdGEvY3JlYXRlLWVudGl0eS1zdG9yZSc7XG5pbXBvcnQgeyBjcmVhdGVSZXF1ZXN0U3RvcmUsIHJlcXVlc3QgfSBmcm9tICdAc3JjL2luZnJhc3RydWN0dXJlL3BydW4tYXBpL2RhdGEvcmVxdWVzdC1ob29rcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXBHZXR0ZXIgfSBmcm9tICdAc3JjL2luZnJhc3RydWN0dXJlL3BydW4tYXBpL2RhdGEvY3JlYXRlLW1hcC1nZXR0ZXInO1xuXG5jb25zdCBzdG9yZSA9IGNyZWF0ZUVudGl0eVN0b3JlPFBydW5BcGkuU2hpcHlhcmRQcm9qZWN0PigpO1xuY29uc3Qgc3RhdGUgPSBzdG9yZS5zdGF0ZTtcblxub25BcGlNZXNzYWdlKHtcbiAgU0hJUFlBUkRfUFJPSkVDVFMoZGF0YTogeyBwcm9qZWN0czogUHJ1bkFwaS5TaGlweWFyZFByb2plY3RbXSB9KSB7XG4gICAgc3RvcmUuc2V0QWxsKGRhdGEucHJvamVjdHMpO1xuICAgIHN0b3JlLnNldEZldGNoZWQoKTtcbiAgfSxcbiAgU0hJUFlBUkRfUFJPSkVDVChkYXRhOiBQcnVuQXBpLlNoaXB5YXJkUHJvamVjdCkge1xuICAgIHN0b3JlLnNldE9uZShkYXRhKTtcbiAgfSxcbn0pO1xuXG5jb25zdCBnZXRCeVNob3J0SWQgPSBjcmVhdGVNYXBHZXR0ZXIoc3RhdGUuYWxsLCB4ID0+IHguaWQuc3Vic3RyaW5nKDAsIDgpKTtcblxuY29uc3QgZ2V0QnlJZCA9ICh2YWx1ZT86IHN0cmluZyB8IG51bGwpID0+IHN0YXRlLmdldEJ5SWQodmFsdWUpID8/IGdldEJ5U2hvcnRJZCh2YWx1ZSk7XG5cbmV4cG9ydCBjb25zdCBzaGlweWFyZFByb2plY3RzU3RvcmUgPSBjcmVhdGVSZXF1ZXN0U3RvcmUocmVxdWVzdC5zaGlweWFyZFByb2plY3RzLCB7XG4gIC4uLnN0YXRlLFxuICBnZXRCeUlkLFxufSk7XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUtBLE1BQU0sUUFBUSxrQkFBQTtBQUNkLE1BQU0sUUFBUSxNQUFNO0FBRXBCLGFBQWE7QUFBQSxFQUNYLGtCQUFrQixNQUErQztBQUMvRCxVQUFNLE9BQU8sS0FBSyxRQUFRO0FBQzFCLFVBQU0sV0FBQTtBQUFBLEVBQ1I7QUFBQSxFQUNBLGlCQUFpQixNQUErQjtBQUM5QyxVQUFNLE9BQU8sSUFBSTtBQUFBLEVBQ25CO0FBQ0YsQ0FBQztBQUVELE1BQU0sZUFBZSxnQkFBZ0IsTUFBTSxLQUFLLENBQUEsTUFBSyxFQUFFLEdBQUcsVUFBVSxHQUFHLENBQUMsQ0FBQztBQUV6RSxNQUFNLFVBQVUsQ0FBQyxVQUEwQixNQUFNLFFBQVEsS0FBSyxLQUFLLGFBQWEsS0FBSztBQUU5RSxNQUFNLHdCQUF3QixtQkFBbUIsUUFBUSxrQkFBa0I7QUFBQSxFQUNoRixHQUFHO0FBQUEsRUFDSDtBQUNGLENBQUM7In0=
