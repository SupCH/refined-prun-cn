import { storagesStore } from './storage.js';
import { sitesStore } from './sites.js';
import { warehousesStore } from './warehouses.js';
import { shipsStore } from './ships.js';
function getInvStore(invParameter) {
  if (!invParameter) {
    return void 0;
  }
  invParameter = invParameter.toLowerCase().trim();
  const stores = storagesStore.all.value ?? [];
  let store = stores.find(x => x.id.startsWith(invParameter));
  if (!store) {
    const site = sitesStore.getByPlanetNaturalId(invParameter);
    store = stores.find(x => x.addressableId === site?.siteId);
  }
  if (!store) {
    const warehouse = warehousesStore.getByEntityNaturalId(invParameter);
    store = stores.find(x => x.id === warehouse?.storeId);
  }
  if (!store) {
    const ship = shipsStore.getByRegistration(invParameter);
    store = stores.find(x => x.id === ship?.idShipStore);
  }
  return store;
}
export { getInvStore };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUtaWQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb3JlL3N0b3JlLWlkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0b3JhZ2VzU3RvcmUgfSBmcm9tICdAc3JjL2luZnJhc3RydWN0dXJlL3BydW4tYXBpL2RhdGEvc3RvcmFnZSc7XG5pbXBvcnQgeyBzaXRlc1N0b3JlIH0gZnJvbSAnQHNyYy9pbmZyYXN0cnVjdHVyZS9wcnVuLWFwaS9kYXRhL3NpdGVzJztcbmltcG9ydCB7IHdhcmVob3VzZXNTdG9yZSB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS93YXJlaG91c2VzJztcbmltcG9ydCB7IHNoaXBzU3RvcmUgfSBmcm9tICdAc3JjL2luZnJhc3RydWN0dXJlL3BydW4tYXBpL2RhdGEvc2hpcHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW52U3RvcmUoaW52UGFyYW1ldGVyOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSB7XG4gIGlmICghaW52UGFyYW1ldGVyKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpbnZQYXJhbWV0ZXIgPSBpbnZQYXJhbWV0ZXIudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gIGNvbnN0IHN0b3JlcyA9IHN0b3JhZ2VzU3RvcmUuYWxsLnZhbHVlID8/IFtdO1xuICBsZXQgc3RvcmUgPSBzdG9yZXMuZmluZCh4ID0+IHguaWQuc3RhcnRzV2l0aChpbnZQYXJhbWV0ZXIpKTtcbiAgaWYgKCFzdG9yZSkge1xuICAgIGNvbnN0IHNpdGUgPSBzaXRlc1N0b3JlLmdldEJ5UGxhbmV0TmF0dXJhbElkKGludlBhcmFtZXRlcik7XG4gICAgc3RvcmUgPSBzdG9yZXMuZmluZCh4ID0+IHguYWRkcmVzc2FibGVJZCA9PT0gc2l0ZT8uc2l0ZUlkKTtcbiAgfVxuICBpZiAoIXN0b3JlKSB7XG4gICAgY29uc3Qgd2FyZWhvdXNlID0gd2FyZWhvdXNlc1N0b3JlLmdldEJ5RW50aXR5TmF0dXJhbElkKGludlBhcmFtZXRlcik7XG4gICAgc3RvcmUgPSBzdG9yZXMuZmluZCh4ID0+IHguaWQgPT09IHdhcmVob3VzZT8uc3RvcmVJZCk7XG4gIH1cbiAgaWYgKCFzdG9yZSkge1xuICAgIGNvbnN0IHNoaXAgPSBzaGlwc1N0b3JlLmdldEJ5UmVnaXN0cmF0aW9uKGludlBhcmFtZXRlcik7XG4gICAgc3RvcmUgPSBzdG9yZXMuZmluZCh4ID0+IHguaWQgPT09IHNoaXA/LmlkU2hpcFN0b3JlKTtcbiAgfVxuICByZXR1cm4gc3RvcmU7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUtPLFNBQVMsWUFBWSxjQUF5QztBQUNuRSxNQUFJLENBQUMsY0FBYztBQUNqQixXQUFPO0FBQUEsRUFDVDtBQUNBLGlCQUFlLGFBQWEsWUFBQSxFQUFjLEtBQUE7QUFDMUMsUUFBTSxTQUFTLGNBQWMsSUFBSSxTQUFTLENBQUE7QUFDMUMsTUFBSSxRQUFRLE9BQU8sS0FBSyxDQUFBLE1BQUssRUFBRSxHQUFHLFdBQVcsWUFBWSxDQUFDO0FBQzFELE1BQUksQ0FBQyxPQUFPO0FBQ1YsVUFBTSxPQUFPLFdBQVcscUJBQXFCLFlBQVk7QUFDekQsWUFBUSxPQUFPLEtBQUssQ0FBQSxNQUFLLEVBQUUsa0JBQWtCLE1BQU0sTUFBTTtBQUFBLEVBQzNEO0FBQ0EsTUFBSSxDQUFDLE9BQU87QUFDVixVQUFNLFlBQVksZ0JBQWdCLHFCQUFxQixZQUFZO0FBQ25FLFlBQVEsT0FBTyxLQUFLLENBQUEsTUFBSyxFQUFFLE9BQU8sV0FBVyxPQUFPO0FBQUEsRUFDdEQ7QUFDQSxNQUFJLENBQUMsT0FBTztBQUNWLFVBQU0sT0FBTyxXQUFXLGtCQUFrQixZQUFZO0FBQ3RELFlBQVEsT0FBTyxLQUFLLENBQUEsTUFBSyxFQUFFLE9BQU8sTUFBTSxXQUFXO0FBQUEsRUFDckQ7QUFDQSxTQUFPO0FBQ1Q7In0=
