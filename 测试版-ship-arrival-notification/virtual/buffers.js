import tiles from './tiles.js';
import { C } from './prun-css.js';
import { _$, $, _$$ } from './select-dom.js';
import { clickElement, changeInputValue } from './util.js';
import { sleep } from './sleep.js';
import css from './css-utils.module.css.js';
import onNodeDisconnected from './on-node-disconnected.js';
import { getPrunId } from './attributes.js';
import { watchUntil } from './watch.js';
import { dispatchClientPrunMessage } from './prun-api-listener.js';
import { clamp } from './clamp.js';
import {
  UI_WINDOWS_REQUEST_FOCUS,
  UI_TILES_CHANGE_COMMAND,
  UI_WINDOWS_UPDATE_SIZE,
} from './client-messages.js';
import { onNodeTreeMutation } from './on-node-tree-mutation.js';
import { isEmpty } from './is-empty.js';
let isBusy = false;
const pendingResolvers = [];
async function showBuffer(command, options) {
  if (!options?.force) {
    const existing = tiles.find(command).find(x => !x.docked);
    if (existing) {
      const window = existing.frame.closest(`.${C.Window.window}`);
      const command2 = UI_WINDOWS_REQUEST_FOCUS(existing.id);
      if (dispatchClientPrunMessage(command2)) {
        return window;
      }
      const header = _$(window, C.Window.header);
      void clickElement(header);
      return window;
    }
  }
  await acquireSlot();
  const create = await $(document.documentElement, C.Dock.create);
  try {
    const windows = document.getElementsByClassName(C.Window.window);
    const seenWindows = new Set(Array.from(windows));
    const newWindow = await new Promise(resolve => {
      onNodeTreeMutation(document, () => {
        for (let i = 0; i < windows.length; i++) {
          if (!seenWindows.has(windows[i])) {
            resolve(windows[i]);
            return true;
          }
        }
        return false;
      });
      create.click();
    });
    await processWindow(newWindow, command, options);
    return newWindow;
  } finally {
    releaseSlot();
  }
}
async function acquireSlot() {
  if (!isBusy) {
    isBusy = true;
    return;
  }
  await new Promise(resolve => pendingResolvers.push(resolve));
}
function releaseSlot() {
  if (isEmpty(pendingResolvers)) {
    isBusy = false;
  } else {
    setTimeout(pendingResolvers.shift(), 0);
  }
}
async function processWindow(window, command, options) {
  const input = _$(window, C.PanelSelector.input);
  const form = input.form;
  if (!form?.isConnected) {
    return;
  }
  if (!(options?.autoSubmit ?? true)) {
    changeInputValue(input, command);
    return;
  }
  window.classList.add(css.hidden);
  const tile = _$(window, C.Tile.tile);
  const id = getPrunId(tile);
  if (options?.autoClose) {
    const dockLabel = id?.padStart(2, '0');
    const dockTab = _$$(document, C.Dock.buffer).find(
      x => _$(x, C.Dock.title)?.textContent === dockLabel,
    );
    if (dockTab) {
      dockTab.classList.add(css.hidden);
    }
  }
  const message = UI_TILES_CHANGE_COMMAND(id, command);
  if (!dispatchClientPrunMessage(message)) {
    changeInputValue(input, command);
    await sleep(0);
    form.requestSubmit();
  }
  const selector = await $(window, C.Tile.selector);
  await Promise.any([
    new Promise(resolve => onNodeDisconnected(input, resolve)),
    $(selector, C.Tile.warning),
  ]);
  if (!options?.autoClose) {
    window.classList.remove(css.hidden);
    return;
  }
  void closeWhenDone(window, options);
}
async function closeWhenDone(window, options) {
  await sleep(0);
  const closeWhen = options?.closeWhen;
  if (closeWhen) {
    await watchUntil(closeWhen);
  }
  const buttons = _$$(window, C.Window.button);
  const closeButton = buttons.find(x => x.textContent === 'x');
  if (closeButton) {
    closeButton?.click();
  }
  await new Promise(resolve => onNodeDisconnected(window, resolve));
}
function setBufferSize(id, width, height) {
  dispatchClientPrunMessage(
    UI_WINDOWS_UPDATE_SIZE(
      id,
      clamp(width, 100, document.body.clientWidth - 50),
      clamp(height, 50, document.body.clientHeight - 50),
    ),
  );
}
export { setBufferSize, showBuffer };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVmZmVycy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2luZnJhc3RydWN0dXJlL3BydW4tdWkvYnVmZmVycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGFuZ2VJbnB1dFZhbHVlLCBjbGlja0VsZW1lbnQgfSBmcm9tICdAc3JjL3V0aWwnO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tICdAc3JjL3V0aWxzL3NsZWVwJztcbmltcG9ydCBjc3MgZnJvbSAnQHNyYy91dGlscy9jc3MtdXRpbHMubW9kdWxlLmNzcyc7XG5pbXBvcnQgb25Ob2RlRGlzY29ubmVjdGVkIGZyb20gJ0BzcmMvdXRpbHMvb24tbm9kZS1kaXNjb25uZWN0ZWQnO1xuaW1wb3J0IHsgZ2V0UHJ1bklkIH0gZnJvbSAnQHNyYy9pbmZyYXN0cnVjdHVyZS9wcnVuLXVpL2F0dHJpYnV0ZXMnO1xuaW1wb3J0IHsgd2F0Y2hVbnRpbCB9IGZyb20gJ0BzcmMvdXRpbHMvd2F0Y2gnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJ3RzLWV4dHJhcyc7XG5pbXBvcnQgeyBkaXNwYXRjaENsaWVudFBydW5NZXNzYWdlIH0gZnJvbSAnQHNyYy9pbmZyYXN0cnVjdHVyZS9wcnVuLWFwaS9wcnVuLWFwaS1saXN0ZW5lcic7XG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJ0BzcmMvdXRpbHMvY2xhbXAnO1xuaW1wb3J0IHtcbiAgVUlfVElMRVNfQ0hBTkdFX0NPTU1BTkQsXG4gIFVJX1dJTkRPV1NfUkVRVUVTVF9GT0NVUyxcbiAgVUlfV0lORE9XU19VUERBVEVfU0laRSxcbn0gZnJvbSAnQHNyYy9pbmZyYXN0cnVjdHVyZS9wcnVuLWFwaS9jbGllbnQtbWVzc2FnZXMnO1xuaW1wb3J0IHsgb25Ob2RlVHJlZU11dGF0aW9uIH0gZnJvbSAnQHNyYy91dGlscy9vbi1ub2RlLXRyZWUtbXV0YXRpb24nO1xuXG5sZXQgaXNCdXN5ID0gZmFsc2U7XG5jb25zdCBwZW5kaW5nUmVzb2x2ZXJzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuXG5pbnRlcmZhY2UgU2hvd0J1ZmZlck9wdGlvbnMge1xuICBmb3JjZT86IGJvb2xlYW47XG4gIGF1dG9TdWJtaXQ/OiBib29sZWFuO1xuICBhdXRvQ2xvc2U/OiBib29sZWFuO1xuICBjbG9zZVdoZW4/OiBSZWY8Ym9vbGVhbj47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaG93QnVmZmVyKGNvbW1hbmQ6IHN0cmluZywgb3B0aW9ucz86IFNob3dCdWZmZXJPcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucz8uZm9yY2UpIHtcbiAgICBjb25zdCBleGlzdGluZyA9IHRpbGVzLmZpbmQoY29tbWFuZCkuZmluZCh4ID0+ICF4LmRvY2tlZCk7XG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICBjb25zdCB3aW5kb3cgPSBleGlzdGluZy5mcmFtZS5jbG9zZXN0KGAuJHtDLldpbmRvdy53aW5kb3d9YCkhO1xuICAgICAgY29uc3QgY29tbWFuZCA9IFVJX1dJTkRPV1NfUkVRVUVTVF9GT0NVUyhleGlzdGluZy5pZCk7XG4gICAgICBpZiAoZGlzcGF0Y2hDbGllbnRQcnVuTWVzc2FnZShjb21tYW5kKSkge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgICAgfVxuICAgICAgY29uc3QgaGVhZGVyID0gXyQod2luZG93LCBDLldpbmRvdy5oZWFkZXIpO1xuICAgICAgdm9pZCBjbGlja0VsZW1lbnQoaGVhZGVyKTtcbiAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICB9XG4gIGF3YWl0IGFjcXVpcmVTbG90KCk7XG4gIGNvbnN0IGNyZWF0ZSA9IGF3YWl0ICQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBDLkRvY2suY3JlYXRlKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHdpbmRvd3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKEMuV2luZG93LndpbmRvdyk7XG4gICAgY29uc3Qgc2VlbldpbmRvd3MgPSBuZXcgU2V0KEFycmF5LmZyb20od2luZG93cykpO1xuICAgIGNvbnN0IG5ld1dpbmRvdyA9IGF3YWl0IG5ldyBQcm9taXNlPEhUTUxEaXZFbGVtZW50PihyZXNvbHZlID0+IHtcbiAgICAgIG9uTm9kZVRyZWVNdXRhdGlvbihkb2N1bWVudCwgKCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbmRvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoIXNlZW5XaW5kb3dzLmhhcyh3aW5kb3dzW2ldKSkge1xuICAgICAgICAgICAgcmVzb2x2ZSh3aW5kb3dzW2ldIGFzIEhUTUxEaXZFbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGNyZWF0ZS5jbGljaygpO1xuICAgIH0pO1xuICAgIGF3YWl0IHByb2Nlc3NXaW5kb3cobmV3V2luZG93LCBjb21tYW5kLCBvcHRpb25zKTtcbiAgICByZXR1cm4gbmV3V2luZG93O1xuICB9IGZpbmFsbHkge1xuICAgIHJlbGVhc2VTbG90KCk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gYWNxdWlyZVNsb3QoKSB7XG4gIGlmICghaXNCdXN5KSB7XG4gICAgaXNCdXN5ID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHBlbmRpbmdSZXNvbHZlcnMucHVzaChyZXNvbHZlKSk7XG59XG5cbmZ1bmN0aW9uIHJlbGVhc2VTbG90KCkge1xuICBpZiAoaXNFbXB0eShwZW5kaW5nUmVzb2x2ZXJzKSkge1xuICAgIGlzQnVzeSA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHNldFRpbWVvdXQocGVuZGluZ1Jlc29sdmVycy5zaGlmdCgpISwgMCk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1dpbmRvdyh3aW5kb3c6IEhUTUxEaXZFbGVtZW50LCBjb21tYW5kOiBzdHJpbmcsIG9wdGlvbnM/OiBTaG93QnVmZmVyT3B0aW9ucykge1xuICBjb25zdCBpbnB1dCA9IF8kKHdpbmRvdywgQy5QYW5lbFNlbGVjdG9yLmlucHV0KSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBmb3JtID0gaW5wdXQuZm9ybTtcbiAgaWYgKCFmb3JtPy5pc0Nvbm5lY3RlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIShvcHRpb25zPy5hdXRvU3VibWl0ID8/IHRydWUpKSB7XG4gICAgY2hhbmdlSW5wdXRWYWx1ZShpbnB1dCwgY29tbWFuZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHdpbmRvdy5jbGFzc0xpc3QuYWRkKGNzcy5oaWRkZW4pO1xuICBjb25zdCB0aWxlID0gXyQod2luZG93LCBDLlRpbGUudGlsZSk7XG4gIGNvbnN0IGlkID0gZ2V0UHJ1bklkKHRpbGUhKTtcbiAgaWYgKG9wdGlvbnM/LmF1dG9DbG9zZSkge1xuICAgIGNvbnN0IGRvY2tMYWJlbCA9IGlkPy5wYWRTdGFydCgyLCAnMCcpO1xuICAgIGNvbnN0IGRvY2tUYWIgPSBfJCQoZG9jdW1lbnQsIEMuRG9jay5idWZmZXIpLmZpbmQoXG4gICAgICB4ID0+IF8kKHgsIEMuRG9jay50aXRsZSk/LnRleHRDb250ZW50ID09PSBkb2NrTGFiZWwsXG4gICAgKTtcbiAgICBpZiAoZG9ja1RhYikge1xuICAgICAgZG9ja1RhYi5jbGFzc0xpc3QuYWRkKGNzcy5oaWRkZW4pO1xuICAgIH1cbiAgfVxuICBjb25zdCBtZXNzYWdlID0gVUlfVElMRVNfQ0hBTkdFX0NPTU1BTkQoaWQhLCBjb21tYW5kKTtcbiAgaWYgKCFkaXNwYXRjaENsaWVudFBydW5NZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgY2hhbmdlSW5wdXRWYWx1ZShpbnB1dCwgY29tbWFuZCk7XG4gICAgYXdhaXQgc2xlZXAoMCk7XG4gICAgZm9ybS5yZXF1ZXN0U3VibWl0KCk7XG4gIH1cbiAgY29uc3Qgc2VsZWN0b3IgPSBhd2FpdCAkKHdpbmRvdywgQy5UaWxlLnNlbGVjdG9yKTtcbiAgYXdhaXQgUHJvbWlzZS5hbnkoW1xuICAgIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gb25Ob2RlRGlzY29ubmVjdGVkKGlucHV0LCByZXNvbHZlKSksXG4gICAgJChzZWxlY3RvciwgQy5UaWxlLndhcm5pbmcpLFxuICBdKTtcbiAgaWYgKCFvcHRpb25zPy5hdXRvQ2xvc2UpIHtcbiAgICB3aW5kb3cuY2xhc3NMaXN0LnJlbW92ZShjc3MuaGlkZGVuKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdm9pZCBjbG9zZVdoZW5Eb25lKHdpbmRvdywgb3B0aW9ucyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNsb3NlV2hlbkRvbmUod2luZG93OiBIVE1MRGl2RWxlbWVudCwgb3B0aW9ucz86IFNob3dCdWZmZXJPcHRpb25zKSB7XG4gIGF3YWl0IHNsZWVwKDApO1xuICBjb25zdCBjbG9zZVdoZW4gPSBvcHRpb25zPy5jbG9zZVdoZW47XG4gIGlmIChjbG9zZVdoZW4pIHtcbiAgICBhd2FpdCB3YXRjaFVudGlsKGNsb3NlV2hlbik7XG4gIH1cbiAgY29uc3QgYnV0dG9ucyA9IF8kJCh3aW5kb3csIEMuV2luZG93LmJ1dHRvbik7XG4gIGNvbnN0IGNsb3NlQnV0dG9uID0gYnV0dG9ucy5maW5kKHggPT4geC50ZXh0Q29udGVudCA9PT0gJ3gnKTtcbiAgaWYgKGNsb3NlQnV0dG9uKSB7XG4gICAgY2xvc2VCdXR0b24/LmNsaWNrKCk7XG4gIH1cbiAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiBvbk5vZGVEaXNjb25uZWN0ZWQod2luZG93LCByZXNvbHZlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRCdWZmZXJTaXplKGlkOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gIGRpc3BhdGNoQ2xpZW50UHJ1bk1lc3NhZ2UoXG4gICAgVUlfV0lORE9XU19VUERBVEVfU0laRShcbiAgICAgIGlkLFxuICAgICAgY2xhbXAod2lkdGgsIDEwMCwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAtIDUwKSxcbiAgICAgIGNsYW1wKGhlaWdodCwgNTAsIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC0gNTApLFxuICAgICksXG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFnQkEsSUFBQSxTQUFBO0FBQ0EsTUFBQSxtQkFBQSxDQUFBO0FBU0EsZUFBQSxXQUFBLFNBQUEsU0FBQTtBQUNFLE1BQUEsQ0FBQSxTQUFBLE9BQUE7QUFDRSxVQUFBLFdBQUEsTUFBQSxLQUFBLE9BQUEsRUFBQSxLQUFBLENBQUEsTUFBQSxDQUFBLEVBQUEsTUFBQTtBQUNBLFFBQUEsVUFBQTtBQUNFLFlBQUEsU0FBQSxTQUFBLE1BQUEsUUFBQSxJQUFBLEVBQUEsT0FBQSxNQUFBLEVBQUE7QUFDQSxZQUFBLFdBQUEseUJBQUEsU0FBQSxFQUFBO0FBQ0EsVUFBQSwwQkFBQSxRQUFBLEdBQUE7QUFDRSxlQUFBO0FBQUEsTUFBTztBQUVULFlBQUEsU0FBQSxHQUFBLFFBQUEsRUFBQSxPQUFBLE1BQUE7QUFDQSxXQUFBLGFBQUEsTUFBQTtBQUNBLGFBQUE7QUFBQSxJQUFPO0FBQUEsRUFDVDtBQUVGLFFBQUEsWUFBQTtBQUNBLFFBQUEsU0FBQSxNQUFBLEVBQUEsU0FBQSxpQkFBQSxFQUFBLEtBQUEsTUFBQTtBQUVBLE1BQUE7QUFDRSxVQUFBLFVBQUEsU0FBQSx1QkFBQSxFQUFBLE9BQUEsTUFBQTtBQUNBLFVBQUEsY0FBQSxJQUFBLElBQUEsTUFBQSxLQUFBLE9BQUEsQ0FBQTtBQUNBLFVBQUEsWUFBQSxNQUFBLElBQUEsUUFBQSxDQUFBLFlBQUE7QUFDRSx5QkFBQSxVQUFBLE1BQUE7QUFDRSxpQkFBQSxJQUFBLEdBQUEsSUFBQSxRQUFBLFFBQUEsS0FBQTtBQUNFLGNBQUEsQ0FBQSxZQUFBLElBQUEsUUFBQSxDQUFBLENBQUEsR0FBQTtBQUNFLG9CQUFBLFFBQUEsQ0FBQSxDQUFBO0FBQ0EsbUJBQUE7QUFBQSxVQUFPO0FB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
