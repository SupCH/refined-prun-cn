import { applyCssRule } from './refined-prun-css.js';
import { C, prunCssStylesheets } from './prun-css.js';
import features from './feature-registry.js';
import $style from './prun-bugs.module.css.js';
function removeMobileCssRules() {
  for (const style of prunCssStylesheets) {
    const styleSheet = style.sheet;
    const rules = styleSheet.cssRules;
    try {
      for (let j = rules.length - 1; j >= 0; j--) {
        const rule = rules[j];
        if (rule instanceof CSSMediaRule && rule.media.mediaText.includes('screen')) {
          styleSheet.deleteRule(j);
        }
      }
    } catch (e) {
      console.log(`Could not modify stylesheet: ${styleSheet.href}, Error: ${e}`);
    }
  }
}
function fixZOrder() {
  applyCssRule(
    [
      `.${C.ComExOrdersPanel.filter}`,
      `.${C.LocalMarket.filter}`,
      `.${C.ContractsListTable.filter}`,
    ],
    $style.filter,
  );
  applyCssRule(`.${C.ScrollView.track}`, $style.scrollTrack);
}
function init() {
  removeMobileCssRules();
  fixZOrder();
  applyCssRule(`.${C.Head.container}`, $style.head);
  applyCssRule(`.${C.ColoredIcon.subLabel}`, $style.subLabel);
  applyCssRule(`.${C.GridItemView.container}`, $style.gridItem);
  applyCssRule(`.${C.GridItemView.name}`, $style.gridItemName);
  applyCssRule(['PROD', 'PRODQ'], `.${C.OrderTile.overlay}`, $style.disablePointerEvents);
  applyCssRule('PROD', `.${C.SiteProductionLines.container}`, $style.containerScrollbarGutter);
  applyCssRule('GIFT', `.${C.UserSelector.suggestionsContainer}`, $style.giftSearchResults);
  applyCssRule('[data-tooltip-position="bottom"]', $style.tooltipBottom);
  applyCssRule('[data-tooltip-position="right"]', $style.tooltipRight);
}
features.add(import.meta.url, init, 'Fixes PrUn bugs.');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJ1bi1idWdzLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZmVhdHVyZXMvYmFzaWMvcHJ1bi1idWdzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBydW5Dc3NTdHlsZXNoZWV0cyB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi11aS9wcnVuLWNzcyc7XG5pbXBvcnQgJHN0eWxlIGZyb20gJy4vcHJ1bi1idWdzLm1vZHVsZS5jc3MnO1xuXG5mdW5jdGlvbiByZW1vdmVNb2JpbGVDc3NSdWxlcygpIHtcbiAgZm9yIChjb25zdCBzdHlsZSBvZiBwcnVuQ3NzU3R5bGVzaGVldHMpIHtcbiAgICBjb25zdCBzdHlsZVNoZWV0ID0gc3R5bGUuc2hlZXQhO1xuICAgIGNvbnN0IHJ1bGVzID0gc3R5bGVTaGVldC5jc3NSdWxlcztcbiAgICB0cnkge1xuICAgICAgZm9yIChsZXQgaiA9IHJ1bGVzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgIGNvbnN0IHJ1bGUgPSBydWxlc1tqXTtcbiAgICAgICAgaWYgKHJ1bGUgaW5zdGFuY2VvZiBDU1NNZWRpYVJ1bGUgJiYgcnVsZS5tZWRpYS5tZWRpYVRleHQuaW5jbHVkZXMoJ3NjcmVlbicpKSB7XG4gICAgICAgICAgc3R5bGVTaGVldC5kZWxldGVSdWxlKGopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coYENvdWxkIG5vdCBtb2RpZnkgc3R5bGVzaGVldDogJHtzdHlsZVNoZWV0LmhyZWZ9LCBFcnJvcjogJHtlfWApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaXhaT3JkZXIoKSB7XG4gIGFwcGx5Q3NzUnVsZShcbiAgICBbXG4gICAgICBgLiR7Qy5Db21FeE9yZGVyc1BhbmVsLmZpbHRlcn1gLFxuICAgICAgYC4ke0MuTG9jYWxNYXJrZXQuZmlsdGVyfWAsXG4gICAgICBgLiR7Qy5Db250cmFjdHNMaXN0VGFibGUuZmlsdGVyfWAsXG4gICAgXSxcbiAgICAkc3R5bGUuZmlsdGVyLFxuICApO1xuICBhcHBseUNzc1J1bGUoYC4ke0MuU2Nyb2xsVmlldy50cmFja31gLCAkc3R5bGUuc2Nyb2xsVHJhY2spO1xufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICByZW1vdmVNb2JpbGVDc3NSdWxlcygpO1xuICBmaXhaT3JkZXIoKTtcblxuICAvLyBQcmV2ZW50cyB0b3AtcmlnaHQgdXNlciBpbmZvIGZyb20gc2hyaW5raW5nLlxuICBhcHBseUNzc1J1bGUoYC4ke0MuSGVhZC5jb250YWluZXJ9YCwgJHN0eWxlLmhlYWQpO1xuXG4gIC8vIEl0ZW0gc3ViLWxhYmVscyBhcmUgbWlzc2luZyB3b3JkLWJyZWFrLlxuICBhcHBseUNzc1J1bGUoYC4ke0MuQ29sb3JlZEljb24uc3ViTGFiZWx9YCwgJHN0eWxlLnN1YkxhYmVsKTtcblxuICAvLyBSZW1vdmVzIEdyaWRJdGVtVmlldyBiYWNrZ3JvdW5kIGNvbG9yLlxuICBhcHBseUNzc1J1bGUoYC4ke0MuR3JpZEl0ZW1WaWV3LmNvbnRhaW5lcn1gLCAkc3R5bGUuZ3JpZEl0ZW0pO1xuXG4gIC8vIEFkZHMgdGV4dCBjZW50ZXJpbmcgdG8gR3JpZEl0ZW1WaWV3IG5hbWUuXG4gIGFwcGx5Q3NzUnVsZShgLiR7Qy5HcmlkSXRlbVZpZXcubmFtZX1gLCAkc3R5bGUuZ3JpZEl0ZW1OYW1lKTtcblxuICAvLyBUaGUgb3ZlcmxheSBzdG9wcyBtYXRlcmlhbHMgZnJvbSBiZWluZyBjbGlja2FibGUuXG4gIGFwcGx5Q3NzUnVsZShbJ1BST0QnLCAnUFJPRFEnXSwgYC4ke0MuT3JkZXJUaWxlLm92ZXJsYXl9YCwgJHN0eWxlLmRpc2FibGVQb2ludGVyRXZlbnRzKTtcblxuICAvLyBQcmV2ZW50IFBST0QgYnVmZmVyIHZlcnRpY2FsIHNjcm9sbCBiYXIgZ3V0dGVyIGZyb20gYmVpbmcgYWx3YXlzIHZpc2libGUuXG4gIGFwcGx5Q3NzUnVsZSgnUFJPRCcsIGAuJHtDLlNpdGVQcm9kdWN0aW9uTGluZXMuY29udGFpbmVyfWAsICRzdHlsZS5jb250YWluZXJTY3JvbGxiYXJHdXR0ZXIpO1xuXG4gIC8vIFVzZXIgc2VhcmNoIHJlc3VsdHMgYm94IGluIEdJRlQgaXMgdG9vIGJpZyB0byBmaXQgaW4gdGhlIHRpbGUuXG4gIGFwcGx5Q3NzUnVsZSgnR0lGVCcsIGAuJHtDLlVzZXJTZWxlY3Rvci5zdWdnZXN0aW9uc0NvbnRhaW5lcn1gLCAkc3R5bGUuZ2lmdFNlYXJjaFJlc3VsdHMpO1xuXG4gIC8vIEZpeCB0aGUgdG9vbHRpcCBhcnJvdyBwb3NpdGlvbi5cbiAgYXBwbHlDc3NSdWxlKCdbZGF0YS10b29sdGlwLXBvc2l0aW9uPVwiYm90dG9tXCJdJywgJHN0eWxlLnRvb2x0aXBCb3R0b20pO1xuICBhcHBseUNzc1J1bGUoJ1tkYXRhLXRvb2x0aXAtcG9zaXRpb249XCJyaWdodFwiXScsICRzdHlsZS50b29sdGlwUmlnaHQpO1xufVxuXG5mZWF0dXJlcy5hZGQoaW1wb3J0Lm1ldGEudXJsLCBpbml0LCAnRml4ZXMgUHJVbiBidWdzLicpO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFHQSxTQUFBLHVCQUFBO0FBQ0UsYUFBQSxTQUFBLG9CQUFBO0FBQ0UsVUFBQSxhQUFBLE1BQUE7QUFDQSxVQUFBLFFBQUEsV0FBQTtBQUNBLFFBQUE7QUFDRSxlQUFBLElBQUEsTUFBQSxTQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUE7QUFDRSxjQUFBLE9BQUEsTUFBQSxDQUFBO0FBQ0EsWUFBQSxnQkFBQSxnQkFBQSxLQUFBLE1BQUEsVUFBQSxTQUFBLFFBQUEsR0FBQTtBQUNFLHFCQUFBLFdBQUEsQ0FBQTtBQUFBLFFBQXVCO0FBQUEsTUFDekI7QUFBQSxJQUNGLFNBQUEsR0FBQTtBQUVBLGNBQUEsSUFBQSxnQ0FBQSxXQUFBLElBQUEsWUFBQSxDQUFBLEVBQUE7QUFBQSxJQUEwRTtBQUFBLEVBQzVFO0FBRUo7QUFFQSxTQUFBLFlBQUE7QUFDRTtBQUFBLElBQUE7QUFBQSxNQUNFLElBQUEsRUFBQSxpQkFBQSxNQUFBO0FBQUEsTUFDK0IsSUFBQSxFQUFBLFlBQUEsTUFBQTtBQUFBLE1BQ0wsSUFBQSxFQUFBLG1CQUFBLE1BQUE7QUFBQSxJQUNPO0FBQUEsSUFDakMsT0FBQTtBQUFBLEVBQ087QUFFVCxlQUFBLElBQUEsRUFBQSxXQUFBLEtBQUEsSUFBQSxPQUFBLFdBQUE7QUFDRjtBQUVBLFNBQUEsT0FBQTtBQUNFLHVCQUFBO0FBQ0EsWUFBQTtBQUdBLGVBQUEsSUFBQSxFQUFBLEtBQUEsU0FBQSxJQUFBLE9BQUEsSUFBQTtBQUdBLGVBQUEsSUFBQSxFQUFBLFlBQUEsUUFBQSxJQUFBLE9BQUEsUUFBQTtBQUdBLGVBQUEsSUFBQSxFQUFBLGFBQUEsU0FBQSxJQUFBLE9BQUEsUUFBQTtBQUdBLGVBQUEsSUFBQSxFQUFBLGFBQUEsSUFBQSxJQUFBLE9BQUEsWUFBQTtBQUdBLGVBQUEsQ0FBQSxRQUFBLE9BQUEsR0FBQSxJQUFBLEVBQUEsVUFBQSxPQUFBLElBQUEsT0FBQSxvQkFBQTtBQUdBLGVBQUEsUUFBQSxJQUFBLEVBQUEsb0JBQUEsU0FBQSxJQUFBLE9BQUEsd0JBQUE7QUFHQSxlQUFBLFFBQUEsSUFBQSxFQUFBLGFBQUEsb0JBQUEsSUFBQSxPQUFBLGlCQUFBO0FBR0EsZUFBQSxvQ0FBQSxPQUFBLGFBQUE7QUFDQSxlQUFBLG1DQUFBLE9BQUEsWUFBQTtBQUNGO0FBRUEsU0FBQSxJQUFBLFlBQUEsS0FBQSxNQUFBLGtCQUFBOyJ9
