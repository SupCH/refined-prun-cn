import { createEntityStore } from './create-entity-store.js';
import { onApiMessage } from './api-messages.js';
import { createMapGetter } from './create-map-getter.js';
const store = createEntityStore(x => x.naturalId.toLowerCase(), {
  preserveOnConnectionOpen: true,
});
const state = store.state;
onApiMessage({
  FIO_PLANET_DATA(data) {
    store.setAll(data.planets);
    store.setFetched();
  },
});
const getByNaturalId = createMapGetter(state.all, x => x.naturalId);
const getByName = createMapGetter(state.all, x => x.name);
const find = naturalIdOrName => getByNaturalId(naturalIdOrName) ?? getByName(naturalIdOrName);
const planetsStore = {
  ...state,
  getByNaturalId,
  getByName,
  find,
};
export { planetsStore };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhbmV0cy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2luZnJhc3RydWN0dXJlL3BydW4tYXBpL2RhdGEvcGxhbmV0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFbnRpdHlTdG9yZSB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS9jcmVhdGUtZW50aXR5LXN0b3JlJztcbmltcG9ydCB7IG9uQXBpTWVzc2FnZSB9IGZyb20gJ0BzcmMvaW5mcmFzdHJ1Y3R1cmUvcHJ1bi1hcGkvZGF0YS9hcGktbWVzc2FnZXMnO1xuaW1wb3J0IHsgY3JlYXRlTWFwR2V0dGVyIH0gZnJvbSAnQHNyYy9pbmZyYXN0cnVjdHVyZS9wcnVuLWFwaS9kYXRhL2NyZWF0ZS1tYXAtZ2V0dGVyJztcblxuaW50ZXJmYWNlIFBsYW5ldCB7XG4gIG5hdHVyYWxJZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbmNvbnN0IHN0b3JlID0gY3JlYXRlRW50aXR5U3RvcmU8UGxhbmV0Pih4ID0+IHgubmF0dXJhbElkLnRvTG93ZXJDYXNlKCksIHtcbiAgcHJlc2VydmVPbkNvbm5lY3Rpb25PcGVuOiB0cnVlLFxufSk7XG5jb25zdCBzdGF0ZSA9IHN0b3JlLnN0YXRlO1xuXG5vbkFwaU1lc3NhZ2Uoe1xuICBGSU9fUExBTkVUX0RBVEEoZGF0YTogeyBwbGFuZXRzOiBQbGFuZXRbXSB9KSB7XG4gICAgc3RvcmUuc2V0QWxsKGRhdGEucGxhbmV0cyk7XG4gICAgc3RvcmUuc2V0RmV0Y2hlZCgpO1xuICB9LFxufSk7XG5cbmNvbnN0IGdldEJ5TmF0dXJhbElkID0gY3JlYXRlTWFwR2V0dGVyKHN0YXRlLmFsbCwgeCA9PiB4Lm5hdHVyYWxJZCk7XG5cbmNvbnN0IGdldEJ5TmFtZSA9IGNyZWF0ZU1hcEdldHRlcihzdGF0ZS5hbGwsIHggPT4geC5uYW1lKTtcblxuY29uc3QgZmluZCA9IChuYXR1cmFsSWRPck5hbWU/OiBzdHJpbmcgfCBudWxsKSA9PlxuICBnZXRCeU5hdHVyYWxJZChuYXR1cmFsSWRPck5hbWUpID8/IGdldEJ5TmFtZShuYXR1cmFsSWRPck5hbWUpO1xuXG5leHBvcnQgY29uc3QgcGxhbmV0c1N0b3JlID0ge1xuICAuLi5zdGF0ZSxcbiAgZ2V0QnlOYXR1cmFsSWQsXG4gIGdldEJ5TmFtZSxcbiAgZmluZCxcbn07XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBU0EsTUFBTSxRQUFRLGtCQUEwQixDQUFBLE1BQUssRUFBRSxVQUFVLGVBQWU7QUFBQSxFQUN0RSwwQkFBMEI7QUFDNUIsQ0FBQztBQUNELE1BQU0sUUFBUSxNQUFNO0FBRXBCLGFBQWE7QUFBQSxFQUNYLGdCQUFnQixNQUE2QjtBQUMzQyxVQUFNLE9BQU8sS0FBSyxPQUFPO0FBQ3pCLFVBQU0sV0FBQTtBQUFBLEVBQ1I7QUFDRixDQUFDO0FBRUQsTUFBTSxpQkFBaUIsZ0JBQWdCLE1BQU0sS0FBSyxDQUFBLE1BQUssRUFBRSxTQUFTO0FBRWxFLE1BQU0sWUFBWSxnQkFBZ0IsTUFBTSxLQUFLLENBQUEsTUFBSyxFQUFFLElBQUk7QUFFeEQsTUFBTSxPQUFPLENBQUMsb0JBQ1osZUFBZSxlQUFlLEtBQUssVUFBVSxlQUFlO0FBRXZELE1BQU0sZUFBZTtBQUFBLEVBQzFCLEdBQUc7QUFBQSxFQUNIO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDRjsifQ==
